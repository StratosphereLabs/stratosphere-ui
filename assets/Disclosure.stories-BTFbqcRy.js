import{j as d}from"./jsx-runtime-DiklIkkE.js";import{c as A}from"./index-lhGYx47h.js";import{R as g,r}from"./index-DRjF_FHU.js";import{B as de}from"./Button-D0Yf2K26.js";import{e as pe,f as me}from"./Icons-Cofxgy3z.js";import{$ as fe,a as be}from"./useFocusRing-CeEfTI_f.js";import{w as he,e as ge}from"./use-resolve-button-type-BunvJ_cM.js";import{K as j,y as O,b as v,_ as U,L as k,T as De,a as L,O as V,u as xe,c as P}from"./keyboard-CkwPyo54.js";import{u as ve,x as Ee,i as $,R as ye,s as Se,c as Pe}from"./open-closed-ZYQZnB1s.js";import{C as Ne}from"./close-provider-CMV4gi-l.js";import{r as Ie}from"./bugs-DpEN4NTH.js";var J;let Ce=(J=g.startTransition)!=null?J:function(e){e()};var we=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(we||{}),Te=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(Te||{});let $e={0:e=>({...e,disclosureState:L(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},R=r.createContext(null);R.displayName="DisclosureContext";function B(e){let t=r.useContext(R);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,B),n}return t}let F=r.createContext(null);F.displayName="DisclosureAPIContext";function ae(e){let t=r.useContext(F);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ae),n}return t}let M=r.createContext(null);M.displayName="DisclosurePanelContext";function je(){return r.useContext(M)}function Oe(e,t){return L(t.type,$e,e,t)}let ke=r.Fragment;function Le(e,t){let{defaultOpen:n=!1,...p}=e,l=r.useRef(null),m=O(t,De(i=>{l.current=i},e.as===void 0||e.as===r.Fragment)),u=r.useReducer(Oe,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:s,buttonId:o},D]=u,a=v(i=>{D({type:1});let f=xe(l);if(!f||!o)return;let h=i?i instanceof HTMLElement?i:i.current instanceof HTMLElement?i.current:f.getElementById(o):f.getElementById(o);h==null||h.focus()}),E=r.useMemo(()=>({close:a}),[a]),b=r.useMemo(()=>({open:s===0,close:a}),[s,a]),x={ref:m},y=k();return g.createElement(R.Provider,{value:u},g.createElement(F.Provider,{value:E},g.createElement(Ne,{value:a},g.createElement(Pe,{value:L(s,{0:$.Open,1:$.Closed})},y({ourProps:x,theirProps:p,slot:b,defaultTag:ke,name:"Disclosure"})))))}let Re="button";function Be(e,t){let n=r.useId(),{id:p=`headlessui-disclosure-button-${n}`,disabled:l=!1,autoFocus:m=!1,...u}=e,[s,o]=B("Disclosure.Button"),D=je(),a=D===null?!1:D===s.panelId,E=r.useRef(null),b=O(E,t,v(c=>{if(!a)return o({type:4,element:c})}));r.useEffect(()=>{if(!a)return o({type:2,buttonId:p}),()=>{o({type:2,buttonId:null})}},[p,o,a]);let x=v(c=>{var S;if(a){if(s.disclosureState===1)return;switch(c.key){case P.Space:case P.Enter:c.preventDefault(),c.stopPropagation(),o({type:0}),(S=s.buttonElement)==null||S.focus();break}}else switch(c.key){case P.Space:case P.Enter:c.preventDefault(),c.stopPropagation(),o({type:0});break}}),y=v(c=>{switch(c.key){case P.Space:c.preventDefault();break}}),i=v(c=>{var S;Ie(c.currentTarget)||l||(a?(o({type:0}),(S=s.buttonElement)==null||S.focus()):o({type:0}))}),{isFocusVisible:f,focusProps:h}=fe({autoFocus:m}),{isHovered:N,hoverProps:q}=be({isDisabled:l}),{pressed:H,pressProps:K}=he({disabled:l}),ue=r.useMemo(()=>({open:s.disclosureState===0,hover:N,active:H,disabled:l,focus:f,autofocus:m}),[s,N,H,f,l,m]),z=ge(e,s.buttonElement),ie=a?U({ref:b,type:z,disabled:l||void 0,autoFocus:m,onKeyDown:x,onClick:i},h,q,K):U({ref:b,id:p,type:z,"aria-expanded":s.disclosureState===0,"aria-controls":s.panelElement?s.panelId:void 0,disabled:l||void 0,autoFocus:m,onKeyDown:x,onKeyUp:y,onClick:i},h,q,K);return k()({ourProps:ie,theirProps:u,slot:ue,defaultTag:Re,name:"Disclosure.Button"})}let Fe="div",Me=V.RenderStrategy|V.Static;function _e(e,t){let n=r.useId(),{id:p=`headlessui-disclosure-panel-${n}`,transition:l=!1,...m}=e,[u,s]=B("Disclosure.Panel"),{close:o}=ae("Disclosure.Panel"),[D,a]=r.useState(null),E=O(t,v(N=>{Ce(()=>s({type:5,element:N}))}),a);r.useEffect(()=>(s({type:3,panelId:p}),()=>{s({type:3,panelId:null})}),[p,s]);let b=ve(),[x,y]=Ee(l,D,b!==null?(b&$.Open)===$.Open:u.disclosureState===0),i=r.useMemo(()=>({open:u.disclosureState===0,close:o}),[u.disclosureState,o]),f={ref:E,id:p,...ye(y)},h=k();return g.createElement(Se,null,g.createElement(M.Provider,{value:u.panelId},h({ourProps:f,theirProps:m,slot:i,defaultTag:Fe,features:Me,visible:x,name:"Disclosure.Panel"})))}let qe=j(Le),ne=j(Be),ce=j(_e),He=Object.assign(qe,{Button:ne,Panel:ce});const _=r.forwardRef(({buttonProps:{children:e,className:t,...n}={},children:p,className:l,defaultOpen:m,rounded:u},s)=>d.jsx(He,{as:"div",className:A("border border-base-300",u?"rounded-box":"rounded-md",l),defaultOpen:m,ref:s,children:({open:o})=>d.jsxs(d.Fragment,{children:[d.jsxs(ne,{as:de,className:A("w-full justify-between capitalize hover:bg-inherit",u?"rounded-box":"rounded-md",t),noAnimation:!0,...n,children:[e,o?d.jsx(pe,{className:"h-4 w-4"}):d.jsx(me,{className:"h-4 w-4"})]}),o?d.jsx("div",{className:"overflow-hidden py-2",children:d.jsx(ce,{transition:!0,className:"origin-top transition duration-200 ease-out data-[closed]:-translate-y-6 data-[closed]:opacity-0",children:p})}):null]})}));_.displayName="Disclosure";_.__docgenInfo={description:"",methods:[],displayName:"Disclosure",props:{buttonProps:{required:!1,tsType:{name:"ButtonProps"},description:"",defaultValue:{value:"{}",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:""},rounded:{required:!1,tsType:{name:"boolean"},description:""}}};const Ze={title:"Disclosure",component:_},I={args:{buttonProps:{color:"ghost",children:"Disclosure Label"},children:d.jsx("div",{className:"flex-1 text-center",children:"Disclosure Content"}),className:"w-64"}},C={args:{buttonProps:{color:"ghost",children:"Disclosure Label"},children:d.jsx("div",{className:"flex-1 text-center",children:"Disclosure Content"}),className:"w-64",rounded:!0}},w={args:{buttonProps:{color:"ghost",children:"Disclosure Label",size:"lg"},children:d.jsx("div",{className:"flex-1 text-center",children:"Disclosure Content"}),className:"w-64",rounded:!0}},T={args:{buttonProps:{color:"ghost",children:"Disclosure Label"},children:d.jsx("div",{className:"flex-1 text-center",children:"Disclosure Content"}),className:"w-64",defaultOpen:!0,rounded:!0}};var X,G,Q;I.parameters={...I.parameters,docs:{...(X=I.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    buttonProps: {
      color: 'ghost',
      children: 'Disclosure Label'
    },
    children: <div className="flex-1 text-center">Disclosure Content</div>,
    className: 'w-64'
  }
}`,...(Q=(G=I.parameters)==null?void 0:G.docs)==null?void 0:Q.source}}};var W,Y,Z;C.parameters={...C.parameters,docs:{...(W=C.parameters)==null?void 0:W.docs,source:{originalSource:`{
  args: {
    buttonProps: {
      color: 'ghost',
      children: 'Disclosure Label'
    },
    children: <div className="flex-1 text-center">Disclosure Content</div>,
    className: 'w-64',
    rounded: true
  }
}`,...(Z=(Y=C.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};var ee,te,se;w.parameters={...w.parameters,docs:{...(ee=w.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    buttonProps: {
      color: 'ghost',
      children: 'Disclosure Label',
      size: 'lg'
    },
    children: <div className="flex-1 text-center">Disclosure Content</div>,
    className: 'w-64',
    rounded: true
  }
}`,...(se=(te=w.parameters)==null?void 0:te.docs)==null?void 0:se.source}}};var re,oe,le;T.parameters={...T.parameters,docs:{...(re=T.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: {
    buttonProps: {
      color: 'ghost',
      children: 'Disclosure Label'
    },
    children: <div className="flex-1 text-center">Disclosure Content</div>,
    className: 'w-64',
    defaultOpen: true,
    rounded: true
  }
}`,...(le=(oe=T.parameters)==null?void 0:oe.docs)==null?void 0:le.source}}};const et=["Default","Rounded","Large","Open"];export{I as Default,w as Large,T as Open,C as Rounded,et as __namedExportsOrder,Ze as default};
