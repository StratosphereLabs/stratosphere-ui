import{j as C}from"./jsx-runtime-DR9Q75dM.js";import{a as Ke,c as We,b as Qe,u as Ge,F as Ze}from"./FormLabelText-2tTELyhz.js";import"./FormCheckbox-CthDTzDt.js";import"./FormControl-DGcDh0VE.js";import{F as ze}from"./FormError-Cspxj7f0.js";import"./FormFileInput-DBymLeFk.js";import{T as Je,e as Xe}from"./FormRadioGroupOption-DLb27xFN.js";import"./FormRangeSlider-D1_AsYb-.js";import"./FormTextarea-Do43OudD.js";import"./FormToggleSwitch-DiQNfjGD.js";import{c as Q}from"./index-lhGYx47h.js";import{r as u,R as le}from"./index-DRjF_FHU.js";import{i as xe,d as Ye,g as et,u as tt}from"./useSelectFormSync-DN9FPssX.js";import{u as ot}from"./lodash-CaEHFKMH.js";import{B as nt}from"./Badge-vpwyS83n.js";import{p as ve,r as rt}from"./bugs-BqEXq7dn.js";import{S as Se,D as X,a as T,u as J,l as Z,R as at,X as Y,I as oe,y as ne,s as lt,b as M,o as Re}from"./use-is-mounted-BwivAQE6.js";import{h as it}from"./use-outside-click-ryvoS0Jt.js";import{s as st}from"./use-resolve-button-type-hEnF6IRh.js";import{F as ut}from"./use-tree-walker-BP3EYLpg.js";import{u as dt,a as D,x as ct}from"./use-tracked-pointer-icV3TFbN.js";import{I as pt}from"./focus-management-D-lBgQCa.js";import{c as mt,p as bt}from"./hidden-tij90rwi.js";import{c as ft,d as pe,C as xt}from"./open-closed-DSFNRtpz.js";import{m as Te,n as vt}from"./platform-D0YYO1LS.js";import{n as gt}from"./use-owner-DSsMAH39.js";import{a as It,M as he}from"./MenuItem-Hg2aCcF3.js";import"./Button-C8Er2sLW.js";import"./use-flags-uZipNKZX.js";import"./description-CIrZ1Jfq.js";import"./Icons-DQZ7jVN3.js";var St=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(St||{}),Rt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Rt||{}),Tt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Tt||{}),ht=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(ht||{});function fe(e,n=l=>l){let l=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,t=pt(n(e.options.slice()),i=>i.dataRef.current.domRef.current),s=l?t.indexOf(l):null;return s===-1&&(s=null),{options:t,activeOptionIndex:s}}let yt={1(e){var n;return(n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var n;if((n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===0)return e;let l=e.activeOptionIndex;if(e.dataRef.current){let{isSelected:t}=e.dataRef.current,s=e.options.findIndex(i=>t(i.dataRef.current.value));s!==-1&&(l=s)}return{...e,comboboxState:0,activeOptionIndex:l}},2(e,n){var l,t,s,i;if((l=e.dataRef.current)!=null&&l.disabled||(t=e.dataRef.current)!=null&&t.optionsRef.current&&!((s=e.dataRef.current)!=null&&s.optionsPropsRef.current.static)&&e.comboboxState===1)return e;let o=fe(e);if(o.activeOptionIndex===null){let f=o.options.findIndex(c=>!c.dataRef.current.disabled);f!==-1&&(o.activeOptionIndex=f)}let x=ct(n,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...e,...o,activeOptionIndex:x,activationTrigger:(i=n.trigger)!=null?i:1}},3:(e,n)=>{var l,t;let s={id:n.id,dataRef:n.dataRef},i=fe(e,x=>[...x,s]);e.activeOptionIndex===null&&(l=e.dataRef.current)!=null&&l.isSelected(n.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let o={...e,...i,activationTrigger:1};return(t=e.dataRef.current)!=null&&t.__demoMode&&e.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},4:(e,n)=>{let l=fe(e,t=>{let s=t.findIndex(i=>i.id===n.id);return s!==-1&&t.splice(s,1),t});return{...e,...l,activationTrigger:1}},5:(e,n)=>({...e,labelId:n.id})},ge=u.createContext(null);ge.displayName="ComboboxActionsContext";function re(e){let n=u.useContext(ge);if(n===null){let l=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,re),l}return n}let Ie=u.createContext(null);Ie.displayName="ComboboxDataContext";function ee(e){let n=u.useContext(Ie);if(n===null){let l=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,ee),l}return n}function Ot(e,n){return J(n.type,yt,e,n)}let Ct=u.Fragment;function wt(e,n){let{value:l,defaultValue:t,onChange:s,form:i,name:o,by:x=(m,I)=>m===I,disabled:f=!1,__demoMode:c=!1,nullable:v=!1,multiple:S=!1,...r}=e,[a=S?[]:void 0,h]=Je(l,s,t),[g,p]=u.useReducer(Ot,{dataRef:u.createRef(),comboboxState:c?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),L=u.useRef(!1),A=u.useRef({static:!1,hold:!1}),N=u.useRef(null),P=u.useRef(null),U=u.useRef(null),_=u.useRef(null),O=T(typeof x=="string"?(m,I)=>{let y=x;return(m==null?void 0:m[y])===(I==null?void 0:I[y])}:x),B=u.useCallback(m=>J(d.mode,{1:()=>a.some(I=>O(I,m)),0:()=>O(a,m)}),[a]),d=u.useMemo(()=>({...g,optionsPropsRef:A,labelRef:N,inputRef:P,buttonRef:U,optionsRef:_,value:a,defaultValue:t,disabled:f,mode:S?1:0,get activeOptionIndex(){if(L.current&&g.activeOptionIndex===null&&g.options.length>0){let m=g.options.findIndex(I=>!I.dataRef.current.disabled);if(m!==-1)return m}return g.activeOptionIndex},compare:O,isSelected:B,nullable:v,__demoMode:c}),[a,t,f,S,v,c,g]),w=u.useRef(d.activeOptionIndex!==null?d.options[d.activeOptionIndex]:null);u.useEffect(()=>{let m=d.activeOptionIndex!==null?d.options[d.activeOptionIndex]:null;w.current!==m&&(w.current=m)}),Z(()=>{g.dataRef.current=d},[d]),it([d.buttonRef,d.inputRef,d.optionsRef],()=>$.closeCombobox(),d.comboboxState===0);let k=u.useMemo(()=>({open:d.comboboxState===0,disabled:f,activeIndex:d.activeOptionIndex,activeOption:d.activeOptionIndex===null?null:d.options[d.activeOptionIndex].dataRef.current.value,value:a}),[d,f,a]),z=T(m=>{let I=d.options.find(y=>y.id===m);I&&q(I.dataRef.current.value)}),b=T(()=>{if(d.activeOptionIndex!==null){let{dataRef:m,id:I}=d.options[d.activeOptionIndex];q(m.current.value),$.goToOption(D.Specific,I)}}),H=T(()=>{p({type:0}),L.current=!0}),E=T(()=>{p({type:1}),L.current=!1}),K=T((m,I,y)=>(L.current=!1,m===D.Specific?p({type:2,focus:D.Specific,id:I,trigger:y}):p({type:2,focus:m,trigger:y}))),F=T((m,I)=>(p({type:3,id:m,dataRef:I}),()=>{var y;((y=w.current)==null?void 0:y.id)===m&&(L.current=!0),p({type:4,id:m})})),V=T(m=>(p({type:5,id:m}),()=>p({type:5,id:null}))),q=T(m=>J(d.mode,{0(){return h==null?void 0:h(m)},1(){let I=d.value.slice(),y=I.findIndex(j=>O(j,m));return y===-1?I.push(m):I.splice(y,1),h==null?void 0:h(I)}})),$=u.useMemo(()=>({onChange:q,registerOption:F,registerLabel:V,goToOption:K,closeCombobox:E,openCombobox:H,selectActiveOption:b,selectOption:z}),[]),te=n===null?{}:{ref:n},W=u.useRef(null),me=ve();return u.useEffect(()=>{W.current&&t!==void 0&&me.addEventListener(W.current,"reset",()=>{h==null||h(t)})},[W,h]),le.createElement(ge.Provider,{value:$},le.createElement(Ie.Provider,{value:d},le.createElement(ft,{value:J(d.comboboxState,{0:pe.Open,1:pe.Closed})},o!=null&&a!=null&&Xe({[o]:a}).map(([m,I],y)=>le.createElement(mt,{features:bt.Hidden,ref:y===0?j=>{var ae;W.current=(ae=j==null?void 0:j.closest("form"))!=null?ae:null}:void 0,...at({key:m,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:m,value:I})})),Y({ourProps:te,theirProps:r,slot:k,defaultTag:Ct,name:"Combobox"}))))}let Dt="input";function Pt(e,n){var l,t,s,i;let o=oe(),{id:x=`headlessui-combobox-input-${o}`,onChange:f,displayValue:c,type:v="text",...S}=e,r=ee("Combobox.Input"),a=re("Combobox.Input"),h=ne(r.inputRef,n),g=gt(r.inputRef),p=u.useRef(!1),L=ve(),A=T(()=>{a.onChange(null),r.optionsRef.current&&(r.optionsRef.current.scrollTop=0),a.goToOption(D.Nothing)}),N=function(){var b;return typeof c=="function"&&r.value!==void 0?(b=c(r.value))!=null?b:"":typeof r.value=="string"?r.value:""}();Te(([b,H],[E,K])=>{if(p.current)return;let F=r.inputRef.current;F&&((K===0&&H===1||b!==E)&&(F.value=b),requestAnimationFrame(()=>{if(p.current||!F||(g==null?void 0:g.activeElement)!==F)return;let{selectionStart:V,selectionEnd:q}=F;Math.abs((q??0)-(V??0))===0&&V===0&&F.setSelectionRange(F.value.length,F.value.length)}))},[N,r.comboboxState,g]),Te(([b],[H])=>{if(b===0&&H===1){if(p.current)return;let E=r.inputRef.current;if(!E)return;let K=E.value,{selectionStart:F,selectionEnd:V,selectionDirection:q}=E;E.value="",E.value=K,q!==null?E.setSelectionRange(F,V,q):E.setSelectionRange(F,V)}},[r.comboboxState]);let P=u.useRef(!1),U=T(()=>{P.current=!0}),_=T(()=>{L.nextFrame(()=>{P.current=!1})}),O=T(b=>{switch(p.current=!0,b.key){case M.Enter:if(p.current=!1,r.comboboxState!==0||P.current)return;if(b.preventDefault(),b.stopPropagation(),r.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),r.mode===0&&a.closeCombobox();break;case M.ArrowDown:return p.current=!1,b.preventDefault(),b.stopPropagation(),J(r.comboboxState,{0:()=>{a.goToOption(D.Next)},1:()=>{a.openCombobox()}});case M.ArrowUp:return p.current=!1,b.preventDefault(),b.stopPropagation(),J(r.comboboxState,{0:()=>{a.goToOption(D.Previous)},1:()=>{a.openCombobox(),L.nextFrame(()=>{r.value||a.goToOption(D.Last)})}});case M.Home:if(b.shiftKey)break;return p.current=!1,b.preventDefault(),b.stopPropagation(),a.goToOption(D.First);case M.PageUp:return p.current=!1,b.preventDefault(),b.stopPropagation(),a.goToOption(D.First);case M.End:if(b.shiftKey)break;return p.current=!1,b.preventDefault(),b.stopPropagation(),a.goToOption(D.Last);case M.PageDown:return p.current=!1,b.preventDefault(),b.stopPropagation(),a.goToOption(D.Last);case M.Escape:return p.current=!1,r.comboboxState!==0?void 0:(b.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&b.stopPropagation(),r.nullable&&r.mode===0&&r.value===null&&A(),a.closeCombobox());case M.Tab:if(p.current=!1,r.comboboxState!==0)return;r.mode===0&&a.selectActiveOption(),a.closeCombobox();break}}),B=T(b=>{f==null||f(b),r.nullable&&r.mode===0&&b.target.value===""&&A(),a.openCombobox()}),d=T(()=>{p.current=!1}),w=xe(()=>{if(r.labelId)return[r.labelId].join(" ")},[r.labelId]),k=u.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled}),[r]),z={ref:h,id:x,role:"combobox",type:v,"aria-controls":(l=r.optionsRef.current)==null?void 0:l.id,"aria-expanded":r.comboboxState===0,"aria-activedescendant":r.activeOptionIndex===null||(t=r.options[r.activeOptionIndex])==null?void 0:t.id,"aria-labelledby":w,"aria-autocomplete":"list",defaultValue:(i=(s=e.defaultValue)!=null?s:r.defaultValue!==void 0?c==null?void 0:c(r.defaultValue):null)!=null?i:r.defaultValue,disabled:r.disabled,onCompositionStart:U,onCompositionEnd:_,onKeyDown:O,onChange:B,onBlur:d};return Y({ourProps:z,theirProps:S,slot:k,defaultTag:Dt,name:"Combobox.Input"})}let Et="button";function Ft(e,n){var l;let t=ee("Combobox.Button"),s=re("Combobox.Button"),i=ne(t.buttonRef,n),o=oe(),{id:x=`headlessui-combobox-button-${o}`,...f}=e,c=ve(),v=T(g=>{switch(g.key){case M.ArrowDown:return g.preventDefault(),g.stopPropagation(),t.comboboxState===1&&s.openCombobox(),c.nextFrame(()=>{var p;return(p=t.inputRef.current)==null?void 0:p.focus({preventScroll:!0})});case M.ArrowUp:return g.preventDefault(),g.stopPropagation(),t.comboboxState===1&&(s.openCombobox(),c.nextFrame(()=>{t.value||s.goToOption(D.Last)})),c.nextFrame(()=>{var p;return(p=t.inputRef.current)==null?void 0:p.focus({preventScroll:!0})});case M.Escape:return t.comboboxState!==0?void 0:(g.preventDefault(),t.optionsRef.current&&!t.optionsPropsRef.current.static&&g.stopPropagation(),s.closeCombobox(),c.nextFrame(()=>{var p;return(p=t.inputRef.current)==null?void 0:p.focus({preventScroll:!0})}));default:return}}),S=T(g=>{if(rt(g.currentTarget))return g.preventDefault();t.comboboxState===0?s.closeCombobox():(g.preventDefault(),s.openCombobox()),c.nextFrame(()=>{var p;return(p=t.inputRef.current)==null?void 0:p.focus({preventScroll:!0})})}),r=xe(()=>{if(t.labelId)return[t.labelId,x].join(" ")},[t.labelId,x]),a=u.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled,value:t.value}),[t]),h={ref:i,id:x,type:st(e,t.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(l=t.optionsRef.current)==null?void 0:l.id,"aria-expanded":t.comboboxState===0,"aria-labelledby":r,disabled:t.disabled,onClick:S,onKeyDown:v};return Y({ourProps:h,theirProps:f,slot:a,defaultTag:Et,name:"Combobox.Button"})}let qt="label";function Lt(e,n){let l=oe(),{id:t=`headlessui-combobox-label-${l}`,...s}=e,i=ee("Combobox.Label"),o=re("Combobox.Label"),x=ne(i.labelRef,n);Z(()=>o.registerLabel(t),[t]);let f=T(()=>{var v;return(v=i.inputRef.current)==null?void 0:v.focus({preventScroll:!0})}),c=u.useMemo(()=>({open:i.comboboxState===0,disabled:i.disabled}),[i]);return Y({ourProps:{ref:x,id:t,onClick:f},theirProps:s,slot:c,defaultTag:qt,name:"Combobox.Label"})}let Nt="ul",$t=Se.RenderStrategy|Se.Static;function Mt(e,n){let l=oe(),{id:t=`headlessui-combobox-options-${l}`,hold:s=!1,...i}=e,o=ee("Combobox.Options"),x=ne(o.optionsRef,n),f=xt(),c=f!==null?(f&pe.Open)===pe.Open:o.comboboxState===0;Z(()=>{var a;o.optionsPropsRef.current.static=(a=e.static)!=null?a:!1},[o.optionsPropsRef,e.static]),Z(()=>{o.optionsPropsRef.current.hold=s},[o.optionsPropsRef,s]),ut({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(a){return a.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});let v=xe(()=>{var a,h;return(h=o.labelId)!=null?h:(a=o.buttonRef.current)==null?void 0:a.id},[o.labelId,o.buttonRef.current]),S=u.useMemo(()=>({open:o.comboboxState===0}),[o]),r={"aria-labelledby":v,role:"listbox","aria-multiselectable":o.mode===1?!0:void 0,id:t,ref:x};return Y({ourProps:r,theirProps:i,slot:S,defaultTag:Nt,features:$t,visible:c,name:"Combobox.Options"})}let _t="li";function kt(e,n){var l,t;let s=oe(),{id:i=`headlessui-combobox-option-${s}`,disabled:o=!1,value:x,...f}=e,c=ee("Combobox.Option"),v=re("Combobox.Option"),S=c.activeOptionIndex!==null?c.options[c.activeOptionIndex].id===i:!1,r=c.isSelected(x),a=u.useRef(null),h=lt({disabled:o,value:x,domRef:a,textValue:(t=(l=a.current)==null?void 0:l.textContent)==null?void 0:t.toLowerCase()}),g=ne(n,a),p=T(()=>v.selectOption(i));Z(()=>v.registerOption(i,h),[h,i]);let L=u.useRef(!c.__demoMode);Z(()=>{if(!c.__demoMode)return;let d=Re();return d.requestAnimationFrame(()=>{L.current=!0}),d.dispose},[]),Z(()=>{if(c.comboboxState!==0||!S||!L.current||c.activationTrigger===0)return;let d=Re();return d.requestAnimationFrame(()=>{var w,k;(k=(w=a.current)==null?void 0:w.scrollIntoView)==null||k.call(w,{block:"nearest"})}),d.dispose},[a,S,c.comboboxState,c.activationTrigger,c.activeOptionIndex]);let A=T(d=>{if(o)return d.preventDefault();p(),c.mode===0&&v.closeCombobox(),vt()||requestAnimationFrame(()=>{var w;return(w=c.inputRef.current)==null?void 0:w.focus()})}),N=T(()=>{if(o)return v.goToOption(D.Nothing);v.goToOption(D.Specific,i)}),P=dt(),U=T(d=>P.update(d)),_=T(d=>{P.wasMoved(d)&&(o||S||v.goToOption(D.Specific,i,0))}),O=T(d=>{P.wasMoved(d)&&(o||S&&(c.optionsPropsRef.current.hold||v.goToOption(D.Nothing)))}),B=u.useMemo(()=>({active:S,selected:r,disabled:o}),[S,r,o]);return Y({ourProps:{id:i,ref:g,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":r,disabled:void 0,onClick:A,onFocus:N,onPointerEnter:U,onMouseEnter:U,onPointerMove:_,onMouseMove:_,onPointerLeave:O,onMouseLeave:O},theirProps:f,slot:B,defaultTag:_t,name:"Combobox.Option"})}let Vt=X(wt),jt=X(Ft),At=X(Pt),Ut=X(Lt),Bt=X(Mt),Ht=X(kt),G=Object.assign(Vt,{Input:At,Button:jt,Label:Ut,Options:Bt,Option:Ht});const Kt=(e,n)=>{const[l,t]=u.useState(e);return u.useEffect(()=>{const i=setTimeout(()=>{t(e)},n);return()=>{clearTimeout(i)}},[e,n]),{debouncedValue:l,isDebouncing:!!e&&e!==l}},Wt=(e,n)=>u.useEffect(()=>{const l=t=>{e.current!==null&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[n,e]),Qt=({debounceTime:e,onDebouncedChange:n,options:l})=>{const t=u.useRef(n),[s,i]=u.useState(!1),[o,x]=u.useState(""),{debouncedValue:f}=Kt(o,e??400),c=u.useMemo(()=>{const v=o.trim();return v===""?v:f.trim()},[o,f]);return u.useEffect(()=>{t.current(c)},[c]),u.useEffect(()=>{l!==void 0&&i(!1)},[l]),u.useEffect(()=>{i(o!=="")},[o]),{isLoading:s,query:o,setQuery:x}},Ve=({children:e,className:n,disabled:l,name:t,selectedItems:s,setSelectedItems:i})=>C.jsx(G,{as:"div",by:Ye,className:n,disabled:l,multiple:!0,name:t,onChange:o=>i(o),value:s,children:e});Ve.__docgenInfo={description:"",methods:[],displayName:"ComboboxMulti",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},selectedItems:{required:!0,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},setSelectedItems:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"}],raw:"SetStateAction<DataItem[]>"}],raw:"Dispatch<SetStateAction<DataItem[]>>"},description:""}},composes:["Pick"]};const je=({children:e,className:n,disabled:l,name:t,selectedItems:s,setSelectedItems:i})=>{const o=s[0]??null;return C.jsx(G,{as:"div",by:"id",className:n,disabled:l,name:t,nullable:!0,onChange:x=>x&&i([x]),value:o,children:e})};je.__docgenInfo={description:"",methods:[],displayName:"ComboboxSingle",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},selectedItems:{required:!0,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},setSelectedItems:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"}],raw:"SetStateAction<DataItem[]>"}],raw:"Dispatch<SetStateAction<DataItem[]>>"},description:""}},composes:["Pick"]};const Gt=({debounceTime:e,onDebouncedChange:n,options:l})=>{const[t,s]=u.useState([]),[i,o]=u.useState(!1),x=u.useRef(null),f=u.useRef(null),{isLoading:c,query:v,setQuery:S}=Qt({debounceTime:e,onDebouncedChange:n,options:l}),r=a=>s(h=>h.filter((g,p)=>a!==p));return Wt(x,()=>o(!1)),u.useEffect(()=>{var a;i?(a=f.current)==null||a.focus():S("")},[i,S]),{clearSelectedItem:r,dropdownRef:x,isLoading:c,query:v,showDropdown:i,searchInputRef:f,selectedItems:t,setShowDropdown:o,setSelectedItems:s,setQuery:S}},Ae=({badgeColor:e,bordered:n,className:l,color:t,controllerProps:s,debounceTime:i,disabled:o,disableSingleSelectBadge:x,dropdownInputClassName:f,formValueMode:c,getBadgeClassName:v,getBadgeText:S,getItemText:r,inputClassName:a,inputPlaceholder:h,isRequired:g,labelText:p,menuClassName:L,menuSize:A,multi:N,name:P,onDebouncedChange:U,onKeyDown:_,options:O,placeholder:B,showDirty:d,size:w})=>{const{fieldState:{error:k},field:{ref:z}}=Ke({...s,name:P}),{clearSelectedItem:b,dropdownRef:H,isLoading:E,query:K,showDropdown:F,searchInputRef:V,selectedItems:q,setShowDropdown:$,setSelectedItems:te,setQuery:W}=Gt({debounceTime:i,onDebouncedChange:U,options:O}),me=et(O??[]);tt({multi:N,name:P,onItemSelect:()=>N!==!0&&$(!1),options:me,selectedItems:q,setSelectedItems:te,valueMode:c});const{setFocus:m}=We(),y=ot(P,d)??t??void 0,j=x===void 0||N===!0,ae=N===!0?Ve:je;return C.jsxs(ae,{className:Q("relative",l),disabled:o,name:P,selectedItems:q,setSelectedItems:R=>{te(R),N===void 0&&m(P)},children:[C.jsxs("label",{className:"form-control",children:[p!==void 0?C.jsx("div",{className:"label",children:C.jsx(G.Label,{as:Qe,isRequired:g,children:p})}):null,j?C.jsx("div",{className:Q("input flex items-center gap-1 overflow-x-scroll scrollbar-none",n&&"input-bordered",!o&&"cursor-pointer",y&&`input-${y}`,w&&`input-${w}`,a),onBlur:R=>{R.relatedTarget===null&&$(!1)},onClick:()=>!o&&$(!0),onKeyDown:R=>{R.key==="Enter"?(R.preventDefault(),$(!0)):R.key.length===1&&$(!0)},ref:z,tabIndex:o?-1:0,children:q.length>0?q.map((R,be)=>C.jsx(nt,{className:v==null?void 0:v(R),color:e??"neutral",dismissable:!0,onDismiss:()=>b(be),children:(S==null?void 0:S(R))??r(R)},R.id)):B}):C.jsx(G.Input,{className:Q("input w-full",n&&"input-bordered",y&&`input-${y}`,w&&`input-${w}`,a),onChange:({target:{value:R}})=>{W(R),R.length>0?$(!0):($(!1),te([]))},onKeyDown:_,placeholder:B,ref:z})]}),F?C.jsxs(G.Options,{as:It,className:Q("rounded-box absolute z-50 bg-base-100 p-2 shadow-xl",L),ref:H,size:A,static:!0,children:[j?C.jsx(G.Input,{className:Q("input w-full",f),onChange:({target:{value:R}})=>{W(R)},onKeyDown:R=>{R.key==="Tab"&&$(!1),_==null||_(R)},placeholder:h,ref:V,value:K}):null,E?C.jsx("progress",{className:Q("progress w-full",j&&"mt-2")}):null,!E&&(O==null?void 0:O.length)===0?C.jsx(he,{disabled:!0,children:"No Results"}):null,E?null:O==null?void 0:O.map((R,be)=>C.jsx(G.Option,{as:u.Fragment,value:R,children:({active:Ue,disabled:Be,selected:He})=>C.jsx(he,{className:Q(be===0&&j&&"mt-2"),disabled:Be,focus:Ue,selected:N===!0?He:void 0,children:r(R)})},R.id))]}):null,(k==null?void 0:k.message)!==void 0?C.jsx(ze,{children:k.message}):null]})};Ae.__docgenInfo={description:"",methods:[],displayName:"TypeaheadSelect",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},onDebouncedChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},options:{required:!1,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},controllerProps:{required:!1,tsType:{name:"Omit",elements:[{name:"UseControllerProps",elements:[{name:"Values"}],raw:"UseControllerProps<Values>"},{name:"literal",value:"'name'"}],raw:"Omit<UseControllerProps<Values>, 'name'>"},description:""},isRequired:{required:!1,tsType:{name:"boolean"},description:""},labelText:{required:!1,tsType:{name:"string"},description:""},name:{required:!0,tsType:{name:"Path",elements:[{name:"Values"}],raw:"Path<Values>"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},showDirty:{required:!1,tsType:{name:"boolean"},description:""},badgeColor:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof BADGE_COLORS)[number]"},description:""},bordered:{required:!1,tsType:{name:"boolean"},description:""},color:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof INPUT_COLORS)[number]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},dropdownInputClassName:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},disableSingleSelectBadge:{required:!1,tsType:{name:"literal",value:"true"},description:""},formValueMode:{required:!1,tsType:{name:"union",raw:"'item' | 'id'",elements:[{name:"literal",value:"'item'"},{name:"literal",value:"'id'"}]},description:""},getBadgeClassName:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: DataItem) => string",signature:{arguments:[{type:{name:"DataItem"},name:"item"}],return:{name:"string"}}},description:""},getBadgeText:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: DataItem) => ReactNode",signature:{arguments:[{type:{name:"DataItem"},name:"item"}],return:{name:"ReactNode"}}},description:""},getItemText:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: DataItem) => ReactNode",signature:{arguments:[{type:{name:"DataItem"},name:"data"}],return:{name:"ReactNode"}}},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},inputPlaceholder:{required:!1,tsType:{name:"string"},description:""},menuClassName:{required:!1,tsType:{name:"string"},description:""},menuSize:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof MENU_SIZES)[number]"},description:""},multi:{required:!1,tsType:{name:"literal",value:"true"},description:""},onKeyDown:{required:!1,tsType:{name:"KeyboardEventHandler",elements:[{name:"HTMLInputElement"}],raw:"KeyboardEventHandler<HTMLInputElement>"},description:""},size:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof INPUT_SIZES)[number]"},description:""}}};const wo={title:"TypeaheadSelect",component:Ae,decorators:[e=>{const n=Ge();return C.jsx(Ze,{className:"h-80 w-64",methods:n,onFormSubmit:()=>null,children:C.jsx(e,{})})}]},ie={args:{labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},se={args:{disableSingleSelectBadge:!0,labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},ue={args:{labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},de={args:{className:"min-w-[250px] max-w-[400px]",labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],multi:!0,placeholder:"Select..."}},ce={args:{className:"min-w-[250px] max-w-[400px]",labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],multi:!0,placeholder:"Select..."}};var ye,Oe,Ce;ie.parameters={...ie.parameters,docs:{...(ye=ie.parameters)==null?void 0:ye.docs,source:{originalSource:`{
  args: {
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(Ce=(Oe=ie.parameters)==null?void 0:Oe.docs)==null?void 0:Ce.source}}};var we,De,Pe;se.parameters={...se.parameters,docs:{...(we=se.parameters)==null?void 0:we.docs,source:{originalSource:`{
  args: {
    disableSingleSelectBadge: true,
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(Pe=(De=se.parameters)==null?void 0:De.docs)==null?void 0:Pe.source}}};var Ee,Fe,qe;ue.parameters={...ue.parameters,docs:{...(Ee=ue.parameters)==null?void 0:Ee.docs,source:{originalSource:`{
  args: {
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(qe=(Fe=ue.parameters)==null?void 0:Fe.docs)==null?void 0:qe.source}}};var Le,Ne,$e;de.parameters={...de.parameters,docs:{...(Le=de.parameters)==null?void 0:Le.docs,source:{originalSource:`{
  args: {
    className: 'min-w-[250px] max-w-[400px]',
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    multi: true,
    placeholder: 'Select...'
  }
}`,...($e=(Ne=de.parameters)==null?void 0:Ne.docs)==null?void 0:$e.source}}};var Me,_e,ke;ce.parameters={...ce.parameters,docs:{...(Me=ce.parameters)==null?void 0:Me.docs,source:{originalSource:`{
  args: {
    className: 'min-w-[250px] max-w-[400px]',
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    multi: true,
    placeholder: 'Select...'
  }
}`,...(ke=(_e=ce.parameters)==null?void 0:_e.docs)==null?void 0:ke.source}}};const Do=["SingleSelect","SingleSelectWithoutBadge","SingleSelectWithDefaultValue","MultiSelect","MultiSelectWithDefaultValues"];export{de as MultiSelect,ce as MultiSelectWithDefaultValues,ie as SingleSelect,ue as SingleSelectWithDefaultValue,se as SingleSelectWithoutBadge,Do as __namedExportsOrder,wo as default};
