import{j as g}from"./jsx-runtime-DiklIkkE.js";import{c as q}from"./index-lhGYx47h.js";import{a as Y,b as ee,c as Ee}from"./FormLabelText-BYRBbg7S.js";import{r as a,R as b}from"./index-DRjF_FHU.js";import{u as xe}from"./lodash-CjHNWSW5.js";import{F as Ce}from"./FormError-DCh6zGQK.js";import{Q as re,K as te,u as Te,I as ke}from"./label-BHy4_Co_.js";import{B as Fe}from"./Button-D0Yf2K26.js";import{$ as oe,a as ne}from"./useFocusRing-CeEfTI_f.js";import{b as A,p as Pe,m as we,K as B,y as H,L as K,s as ae,n as ie,_ as se,a as Ne,u as Ie,c as D}from"./keyboard-CkwPyo54.js";import{H as je,a as le,w as ue,U as Se}from"./description-BiWv9uhY.js";import{r as De}from"./index-Bx0Ph3cE.js";import{f as de,s as ce}from"./hidden-VT-llRfc.js";import{r as pe}from"./bugs-DpEN4NTH.js";import{P as X,F as U,T as Z,_ as Ae}from"./focus-management-BpNHtozA.js";function Ge(e,r,t){let[o,n]=a.useState(t),i=e!==void 0,l=a.useRef(i),u=a.useRef(!1),s=a.useRef(!1);return i&&!l.current&&!u.current?(u.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!s.current&&(s.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:o,A(d=>(i||n(d),r==null?void 0:r(d)))]}function _e(e){let[r]=a.useState(e);return r}function fe(e={},r=null,t=[]){for(let[o,n]of Object.entries(e))ve(t,me(r,o),n);return t}function me(e,r){return e?e+"["+r+"]":r}function ve(e,r,t){if(Array.isArray(t))for(let[o,n]of t.entries())ve(e,me(r,o.toString()),n);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):fe(t,r,e)}function qe(e){var r,t;let o=(r=e==null?void 0:e.form)!=null?r:e.closest("form");if(o){for(let n of o.elements)if(n!==e&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(t=o.requestSubmit)==null||t.call(o)}}let Le=a.createContext(null);function Me({children:e}){let r=a.useContext(Le);if(!r)return b.createElement(b.Fragment,null,e);let{target:t}=r;return t?De.createPortal(b.createElement(b.Fragment,null,e),t):null}function Ue({data:e,form:r,disabled:t,onReset:o,overrides:n}){let[i,l]=a.useState(null),u=Pe();return a.useEffect(()=>{if(o&&i)return u.addEventListener(i,"reset",o)},[i,r,o]),b.createElement(Me,null,b.createElement(Be,{setForm:l,formId:r}),fe(e).map(([s,d])=>b.createElement(de,{features:ce.Hidden,...we({key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,disabled:t,name:s,value:d,...n})})))}function Be({setForm:e,formId:r}){return a.useEffect(()=>{if(r){let t=document.getElementById(r);t&&e(t)}},[e,r]),r?null:b.createElement(de,{features:ce.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let o=t.closest("form");o&&e(o)}})}function He(e,r){return e!==null&&r!==null&&typeof e=="object"&&typeof r=="object"&&"id"in e&&"id"in r?e.id===r.id:e===r}function Ke(e=He){return a.useCallback((r,t)=>{if(typeof e=="string"){let o=e;return(r==null?void 0:r[o])===(t==null?void 0:t[o])}return e(r,t)},[e])}var Ve=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Ve||{});let We={0(e,r){let t=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:Ae(t,o=>o.element.current)}},1(e,r){let t=e.options.slice(),o=e.options.findIndex(n=>n.id===r.id);return o===-1?e:(t.splice(o,1),{...e,options:t})}},V=a.createContext(null);V.displayName="RadioGroupDataContext";function W(e){let r=a.useContext(V);if(r===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,W),t}return r}let Q=a.createContext(null);Q.displayName="RadioGroupActionsContext";function z(e){let r=a.useContext(Q);if(r===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,z),t}return r}function Qe(e,r){return Ne(r.type,We,e,r)}let ze="div";function Je(e,r){let t=a.useId(),o=le(),{id:n=`headlessui-radiogroup-${t}`,value:i,form:l,name:u,onChange:s,by:d,disabled:m=o||!1,defaultValue:h,...k}=e,f=Ke(d),[C,$]=a.useReducer(Qe,{options:[]}),v=C.options,[O,F]=te(),[E,P]=ue(),w=a.useRef(null),I=H(w,r),T=_e(h),[c,j]=Ge(i,s,T),S=a.useMemo(()=>v.find(p=>!p.propsRef.current.disabled),[v]),N=a.useMemo(()=>v.some(p=>f(p.propsRef.current.value,c)),[v,c]),y=A(p=>{var G;if(m||f(p,c))return!1;let x=(G=v.find(M=>f(M.propsRef.current.value,p)))==null?void 0:G.propsRef.current;return x!=null&&x.disabled?!1:(j==null||j(p),!0)}),L=A(p=>{let G=w.current;if(!G)return;let x=Ie(G),M=v.filter(R=>R.propsRef.current.disabled===!1).map(R=>R.element.current);switch(p.key){case D.Enter:qe(p.currentTarget);break;case D.ArrowLeft:case D.ArrowUp:if(p.preventDefault(),p.stopPropagation(),X(M,U.Previous|U.WrapAround)===Z.Success){let R=v.find(_=>_.element.current===(x==null?void 0:x.activeElement));R&&y(R.propsRef.current.value)}break;case D.ArrowRight:case D.ArrowDown:if(p.preventDefault(),p.stopPropagation(),X(M,U.Next|U.WrapAround)===Z.Success){let R=v.find(_=>_.element.current===(x==null?void 0:x.activeElement));R&&y(R.propsRef.current.value)}break;case D.Space:{p.preventDefault(),p.stopPropagation();let R=v.find(_=>_.element.current===(x==null?void 0:x.activeElement));R&&y(R.propsRef.current.value)}break}}),J=A(p=>($({type:0,...p}),()=>$({type:1,id:p.id}))),he=a.useMemo(()=>({value:c,firstOption:S,containsCheckedOption:N,disabled:m,compare:f,...C}),[c,S,N,m,f,C]),ye=a.useMemo(()=>({registerOption:J,change:y}),[J,y]),Re={ref:I,id:n,role:"radiogroup","aria-labelledby":O,"aria-describedby":E,onKeyDown:L},ge=a.useMemo(()=>({value:c}),[c]),$e=a.useCallback(()=>{if(T!==void 0)return y(T)},[y,T]),Oe=K();return b.createElement(P,{name:"RadioGroup.Description"},b.createElement(F,{name:"RadioGroup.Label"},b.createElement(Q.Provider,{value:ye},b.createElement(V.Provider,{value:he},u!=null&&b.createElement(Ue,{disabled:m,data:{[u]:c||"on"},overrides:{type:"radio",checked:c!=null},form:l,onReset:$e}),Oe({ourProps:Re,theirProps:k,slot:ge,defaultTag:ze,name:"RadioGroup"})))))}let Xe="div";function Ze(e,r){var t;let o=W("RadioGroup.Option"),n=z("RadioGroup.Option"),i=a.useId(),{id:l=`headlessui-radiogroup-option-${i}`,value:u,disabled:s=o.disabled||!1,autoFocus:d=!1,...m}=e,h=a.useRef(null),k=H(h,r),[f,C]=te(),[$,v]=ue(),O=ae({value:u,disabled:s});ie(()=>n.registerOption({id:l,element:h,propsRef:O}),[l,n,h,O]);let F=A(y=>{var L;if(pe(y.currentTarget))return y.preventDefault();n.change(u)&&((L=h.current)==null||L.focus())}),E=((t=o.firstOption)==null?void 0:t.id)===l,{isFocusVisible:P,focusProps:w}=oe({autoFocus:d}),{isHovered:I,hoverProps:T}=ne({isDisabled:s}),c=o.compare(o.value,u),j=se({ref:k,id:l,role:"radio","aria-checked":c?"true":"false","aria-labelledby":f,"aria-describedby":$,"aria-disabled":s?!0:void 0,tabIndex:s?-1:c||!o.containsCheckedOption&&E?0:-1,onClick:s?void 0:F,autoFocus:d},w,T),S=a.useMemo(()=>({checked:c,disabled:s,active:P,hover:I,focus:P,autofocus:d}),[c,s,I,P,d]),N=K();return b.createElement(v,{name:"RadioGroup.Description"},b.createElement(C,{name:"RadioGroup.Label"},N({ourProps:j,theirProps:m,slot:S,defaultTag:Xe,name:"RadioGroup.Option"})))}let Ye="span";function er(e,r){var t;let o=W("Radio"),n=z("Radio"),i=a.useId(),l=Te(),u=le(),{id:s=l||`headlessui-radio-${i}`,value:d,disabled:m=o.disabled||u||!1,autoFocus:h=!1,...k}=e,f=a.useRef(null),C=H(f,r),$=ke(),v=Se(),O=ae({value:d,disabled:m});ie(()=>n.registerOption({id:s,element:f,propsRef:O}),[s,n,f,O]);let F=A(N=>{var y;if(pe(N.currentTarget))return N.preventDefault();n.change(d)&&((y=f.current)==null||y.focus())}),{isFocusVisible:E,focusProps:P}=oe({autoFocus:h}),{isHovered:w,hoverProps:I}=ne({isDisabled:m}),T=((t=o.firstOption)==null?void 0:t.id)===s,c=o.compare(o.value,d),j=se({ref:C,id:s,role:"radio","aria-checked":c?"true":"false","aria-labelledby":$,"aria-describedby":v,"aria-disabled":m?!0:void 0,tabIndex:m?-1:c||!o.containsCheckedOption&&T?0:-1,autoFocus:h,onClick:m?void 0:F},P,I),S=a.useMemo(()=>({checked:c,disabled:m,hover:w,focus:E,autofocus:h}),[c,m,w,E,h]);return K()({ourProps:j,theirProps:k,slot:S,defaultTag:Ye,name:"Radio"})}let rr=B(Je),tr=B(Ze),or=B(er),nr=re,ar=je,be=Object.assign(rr,{Option:tr,Radio:or,Label:nr,Description:ar});const ir=({className:e,color:r,controllerProps:t,inputClassName:o,isRequired:n,labelText:i,name:l,options:u,showDirty:s,size:d,...m})=>{const{field:{value:h,...k},fieldState:{error:f}}=Y({name:l,...t}),$=xe(l,s)??r??void 0;return g.jsxs("fieldset",{className:q("fieldset py-0",e),children:[i!==void 0?g.jsx(ee,{isRequired:n,children:i}):null,u.map(({className:v,id:O,label:F,value:E})=>g.jsxs("div",{className:q("flex cursor-pointer items-center justify-between",v),children:[g.jsx("span",{children:F}),g.jsx("input",{...k,...m,checked:h===E,className:q("radio",$&&`radio-${$}`,d&&`radio-${d}`,o),type:"radio",value:E})]},O)),(f==null?void 0:f.message)!==void 0?g.jsx(Ce,{children:f.message}):null]})};ir.__docgenInfo={description:"",methods:[],displayName:"FormRadio",props:{color:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof RADIO_COLORS)[number]"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"RadioOption"}],raw:"RadioOption[]"},description:""},size:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof RADIO_SIZES)[number]"},description:""}},composes:["Omit"]};const sr=({children:e,className:r,controllerProps:t,isRequired:o,labelText:n,name:i,...l})=>{const{setValue:u}=Ee(),{field:{value:s}}=Y({name:i,...t});return g.jsxs(be,{as:"fieldset",className:q("fieldset py-0",r),name:i,onChange:d=>{u(i,d)},value:s,...l,children:[n!==void 0?g.jsx(re,{as:ee,isRequired:o,children:n}):null,g.jsx("div",{className:"join",children:e})]})};sr.__docgenInfo={description:"",methods:[],displayName:"FormRadioGroup",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}},composes:["Omit"]};const lr=({activeColor:e,children:r,className:t,disabled:o,inactiveColor:n,value:i,...l})=>g.jsx(be.Option,{as:a.Fragment,disabled:o,value:i,children:({checked:u,disabled:s})=>g.jsx(Fe,{active:u,className:q("join-item",t),color:u?e??"primary":n,disabled:s,...l,children:r})});lr.__docgenInfo={description:"",methods:[],displayName:"FormRadioGroupOption",props:{activeColor:{required:!1,tsType:{name:"ButtonProps['color']",raw:"ButtonProps['color']"},description:""},inactiveColor:{required:!1,tsType:{name:"ButtonProps['color']",raw:"ButtonProps['color']"},description:""},value:{required:!0,tsType:{name:"string"},description:""}},composes:["Omit"]};export{ir as F,Ge as T,sr as a,lr as b,Ue as j,_e as l,qe as p,Ke as u};
