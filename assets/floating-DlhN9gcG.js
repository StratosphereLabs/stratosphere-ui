import{r as m,a as le}from"./index-DRjF_FHU.js";import{n as ot,o as Yt,p as ce}from"./keyboard-CUk6zo9K.js";import{r as ct}from"./index-rX-Bn4lm.js";function fe(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function bn(t,e=!1){let[n,o]=m.useReducer(()=>({}),{}),i=m.useMemo(()=>fe(t),[t,n]);return ot(()=>{if(!t)return;let r=new ResizeObserver(o);return r.observe(t),()=>{r.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}function dt(){return typeof window<"u"}function Q(t){return qt(t)?(t.nodeName||"").toLowerCase():"#document"}function I(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function z(t){var e;return(e=(qt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qt(t){return dt()?t instanceof Node||t instanceof I(t).Node:!1}function $(t){return dt()?t instanceof Element||t instanceof I(t).Element:!1}function _(t){return dt()?t instanceof HTMLElement||t instanceof I(t).HTMLElement:!1}function Dt(t){return!dt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof I(t).ShadowRoot}function it(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=W(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function ae(t){return["table","td","th"].includes(Q(t))}function mt(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function At(t){const e=St(),n=$(t)?W(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function ue(t){let e=Y(t);for(;_(e)&&!J(e);){if(At(e))return e;if(mt(e))return null;e=Y(e)}return null}function St(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function J(t){return["html","body","#document"].includes(Q(t))}function W(t){return I(t).getComputedStyle(t)}function gt(t){return $(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Y(t){if(Q(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Dt(t)&&t.host||z(t);return Dt(e)?e.host:e}function Ut(t){const e=Y(t);return J(e)?t.ownerDocument?t.ownerDocument.body:t.body:_(e)&&it(e)?e:Ut(e)}function et(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ut(t),r=i===((o=t.ownerDocument)==null?void 0:o.body),s=I(i);if(r){const l=Rt(s);return e.concat(s,s.visualViewport||[],it(i)?i:[],l&&n?et(l):[])}return e.concat(i,et(i,[],n))}function Rt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function de(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:o}=e;return n+"/"+o}).join(" "):navigator.userAgent}const U=Math.min,D=Math.max,nt=Math.round,st=Math.floor,V=t=>({x:t,y:t}),me={left:"right",right:"left",bottom:"top",top:"bottom"},ge={start:"end",end:"start"};function Lt(t,e,n){return D(t,U(e,n))}function Z(t,e){return typeof t=="function"?t(e):t}function q(t){return t.split("-")[0]}function rt(t){return t.split("-")[1]}function Kt(t){return t==="x"?"y":"x"}function Xt(t){return t==="y"?"height":"width"}function K(t){return["top","bottom"].includes(q(t))?"y":"x"}function Gt(t){return Kt(K(t))}function he(t,e,n){n===void 0&&(n=!1);const o=rt(t),i=Gt(t),r=Xt(i);let s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=ft(s)),[s,ft(s)]}function pe(t){const e=ft(t);return[Ct(t),e,Ct(e)]}function Ct(t){return t.replace(/start|end/g,e=>ge[e])}function xe(t,e,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:o:e?o:i;case"left":case"right":return e?r:s;default:return[]}}function we(t,e,n,o){const i=rt(t);let r=xe(q(t),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),e&&(r=r.concat(r.map(Ct)))),r}function ft(t){return t.replace(/left|right|bottom|top/g,e=>me[e])}function ye(t){return{top:0,right:0,bottom:0,left:0,...t}}function ve(t){return typeof t!="number"?ye(t):{top:t,right:t,bottom:t,left:t}}function at(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function Ht(t,e,n){let{reference:o,floating:i}=t;const r=K(e),s=Gt(e),l=Xt(s),f=q(e),c=r==="y",a=o.x+o.width/2-i.width/2,g=o.y+o.height/2-i.height/2,p=o[l]/2-i[l]/2;let u;switch(f){case"top":u={x:a,y:o.y-i.height};break;case"bottom":u={x:a,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:g};break;case"left":u={x:o.x-i.width,y:g};break;default:u={x:o.x,y:o.y}}switch(rt(e)){case"start":u[s]-=p*(n&&c?-1:1);break;case"end":u[s]+=p*(n&&c?-1:1);break}return u}const be=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,l=r.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:a,y:g}=Ht(c,o,f),p=o,u={},d=0;for(let h=0;h<l.length;h++){const{name:x,fn:y}=l[h],{x:v,y:w,data:b,reset:R}=await y({x:a,y:g,initialPlacement:o,placement:p,strategy:i,middlewareData:u,rects:c,platform:s,elements:{reference:t,floating:e}});a=v??a,g=w??g,u={...u,[x]:{...u[x],...b}},R&&d<=50&&(d++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:a,y:g}=Ht(c,p,f)),h=-1)}return{x:a,y:g,placement:p,strategy:i,middlewareData:u}};async function ht(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:s,elements:l,strategy:f}=t,{boundary:c="clippingAncestors",rootBoundary:a="viewport",elementContext:g="floating",altBoundary:p=!1,padding:u=0}=Z(e,t),d=ve(u),x=l[p?g==="floating"?"reference":"floating":g],y=at(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(x)))==null||n?x:x.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:a,strategy:f})),v=g==="floating"?{x:o,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),b=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},R=at(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:f}):v);return{top:(y.top-R.top+d.top)/b.y,bottom:(R.bottom-y.bottom+d.bottom)/b.y,left:(y.left-R.left+d.left)/b.x,right:(R.right-y.right+d.right)/b.x}}const Re=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:r,rects:s,initialPlacement:l,platform:f,elements:c}=e,{mainAxis:a=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:h=!0,...x}=Z(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const y=q(i),v=K(l),w=q(l)===l,b=await(f.isRTL==null?void 0:f.isRTL(c.floating)),R=p||(w||!h?[ft(l)]:pe(l)),E=d!=="none";!p&&E&&R.push(...we(l,h,d,b));const O=[l,...R],L=await ht(e,x),B=[];let F=((o=r.flip)==null?void 0:o.overflows)||[];if(a&&B.push(L[y]),g){const T=he(i,s,b);B.push(L[T[0]],L[T[1]])}if(F=[...F,{placement:i,overflows:B}],!B.every(T=>T<=0)){var S,k;const T=(((S=r.flip)==null?void 0:S.index)||0)+1,j=O[T];if(j)return{data:{index:T,overflows:F},reset:{placement:j}};let M=(k=F.filter(N=>N.overflows[0]<=0).sort((N,C)=>N.overflows[1]-C.overflows[1])[0])==null?void 0:k.placement;if(!M)switch(u){case"bestFit":{var P;const N=(P=F.filter(C=>{if(E){const A=K(C.placement);return A===v||A==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(A=>A>0).reduce((A,H)=>A+H,0)]).sort((C,A)=>C[1]-A[1])[0])==null?void 0:P[0];N&&(M=N);break}case"initialPlacement":M=l;break}if(i!==M)return{reset:{placement:M}}}return{}}}};async function Ce(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=q(n),l=rt(n),f=K(n)==="y",c=["left","top"].includes(s)?-1:1,a=r&&f?-1:1,g=Z(e,t);let{mainAxis:p,crossAxis:u,alignmentAxis:d}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof d=="number"&&(u=l==="end"?d*-1:d),f?{x:u*a,y:p*c}:{x:p*c,y:u*a}}const Ee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:r,placement:s,middlewareData:l}=e,f=await Ce(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:i+f.x,y:r+f.y,data:{...f,placement:s}}}}},Ae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...f}=Z(t,e),c={x:n,y:o},a=await ht(e,f),g=K(q(i)),p=Kt(g);let u=c[p],d=c[g];if(r){const x=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=u+a[x],w=u-a[y];u=Lt(v,u,w)}if(s){const x=g==="y"?"top":"left",y=g==="y"?"bottom":"right",v=d+a[x],w=d-a[y];d=Lt(v,d,w)}const h=l.fn({...e,[p]:u,[g]:d});return{...h,data:{x:h.x-n,y:h.y-o,enabled:{[p]:r,[g]:s}}}}}},Se=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:i,rects:r,platform:s,elements:l}=e,{apply:f=()=>{},...c}=Z(t,e),a=await ht(e,c),g=q(i),p=rt(i),u=K(i)==="y",{width:d,height:h}=r.floating;let x,y;g==="top"||g==="bottom"?(x=g,y=p===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(y=g,x=p==="end"?"top":"bottom");const v=h-a.top-a.bottom,w=d-a.left-a.right,b=U(h-a[x],v),R=U(d-a[y],w),E=!e.middlewareData.shift;let O=b,L=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=w),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(O=v),E&&!p){const F=D(a.left,0),S=D(a.right,0),k=D(a.top,0),P=D(a.bottom,0);u?L=d-2*(F!==0||S!==0?F+S:D(a.left,a.right)):O=h-2*(k!==0||P!==0?k+P:D(a.top,a.bottom))}await f({...e,availableWidth:L,availableHeight:O});const B=await s.getDimensions(l.floating);return d!==B.width||h!==B.height?{reset:{rects:!0}}:{}}}};function Jt(t){const e=W(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=_(t),r=i?t.offsetWidth:n,s=i?t.offsetHeight:o,l=nt(n)!==r||nt(o)!==s;return l&&(n=r,o=s),{width:n,height:o,$:l}}function Ot(t){return $(t)?t:t.contextElement}function G(t){const e=Ot(t);if(!_(e))return V(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=Jt(e);let s=(r?nt(n.width):n.width)/o,l=(r?nt(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Oe=V(0);function Qt(t){const e=I(t);return!St()||!e.visualViewport?Oe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Te(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==I(t)?!1:e}function X(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Ot(t);let s=V(1);e&&(o?$(o)&&(s=G(o)):s=G(t));const l=Te(r,n,o)?Qt(r):V(0);let f=(i.left+l.x)/s.x,c=(i.top+l.y)/s.y,a=i.width/s.x,g=i.height/s.y;if(r){const p=I(r),u=o&&$(o)?I(o):o;let d=p,h=Rt(d);for(;h&&o&&u!==d;){const x=G(h),y=h.getBoundingClientRect(),v=W(h),w=y.left+(h.clientLeft+parseFloat(v.paddingLeft))*x.x,b=y.top+(h.clientTop+parseFloat(v.paddingTop))*x.y;f*=x.x,c*=x.y,a*=x.x,g*=x.y,f+=w,c+=b,d=I(h),h=Rt(d)}}return at({width:a,height:g,x:f,y:c})}function Tt(t,e){const n=gt(t).scrollLeft;return e?e.left+n:X(z(t)).left+n}function Zt(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=o.left+e.scrollLeft-(n?0:Tt(t,o)),r=o.top+e.scrollTop;return{x:i,y:r}}function Me(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r=i==="fixed",s=z(o),l=e?mt(e.floating):!1;if(o===s||l&&r)return n;let f={scrollLeft:0,scrollTop:0},c=V(1);const a=V(0),g=_(o);if((g||!g&&!r)&&((Q(o)!=="body"||it(s))&&(f=gt(o)),_(o))){const u=X(o);c=G(o),a.x=u.x+o.clientLeft,a.y=u.y+o.clientTop}const p=s&&!g&&!r?Zt(s,f,!0):V(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-f.scrollLeft*c.x+a.x+p.x,y:n.y*c.y-f.scrollTop*c.y+a.y+p.y}}function Fe(t){return Array.from(t.getClientRects())}function Pe(t){const e=z(t),n=gt(t),o=t.ownerDocument.body,i=D(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=D(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Tt(t);const l=-n.scrollTop;return W(o).direction==="rtl"&&(s+=D(e.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:l}}function De(t,e){const n=I(t),o=z(t),i=n.visualViewport;let r=o.clientWidth,s=o.clientHeight,l=0,f=0;if(i){r=i.width,s=i.height;const c=St();(!c||c&&e==="fixed")&&(l=i.offsetLeft,f=i.offsetTop)}return{width:r,height:s,x:l,y:f}}function Le(t,e){const n=X(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=_(t)?G(t):V(1),s=t.clientWidth*r.x,l=t.clientHeight*r.y,f=i*r.x,c=o*r.y;return{width:s,height:l,x:f,y:c}}function $t(t,e,n){let o;if(e==="viewport")o=De(t,n);else if(e==="document")o=Pe(z(t));else if($(e))o=Le(e,n);else{const i=Qt(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return at(o)}function te(t,e){const n=Y(t);return n===e||!$(n)||J(n)?!1:W(n).position==="fixed"||te(n,e)}function He(t,e){const n=e.get(t);if(n)return n;let o=et(t,[],!1).filter(l=>$(l)&&Q(l)!=="body"),i=null;const r=W(t).position==="fixed";let s=r?Y(t):t;for(;$(s)&&!J(s);){const l=W(s),f=At(s);!f&&l.position==="fixed"&&(i=null),(r?!f&&!i:!f&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||it(s)&&!f&&te(t,s))?o=o.filter(a=>a!==s):i=l,s=Y(s)}return e.set(t,o),o}function $e(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const s=[...n==="clippingAncestors"?mt(e)?[]:He(e,this._c):[].concat(n),o],l=s[0],f=s.reduce((c,a)=>{const g=$t(e,a,i);return c.top=D(g.top,c.top),c.right=U(g.right,c.right),c.bottom=U(g.bottom,c.bottom),c.left=D(g.left,c.left),c},$t(e,l,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function ke(t){const{width:e,height:n}=Jt(t);return{width:e,height:n}}function Ie(t,e,n){const o=_(e),i=z(e),r=n==="fixed",s=X(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const f=V(0);if(o||!o&&!r)if((Q(e)!=="body"||it(i))&&(l=gt(e)),o){const p=X(e,!0,r,e);f.x=p.x+e.clientLeft,f.y=p.y+e.clientTop}else i&&(f.x=Tt(i));const c=i&&!o&&!r?Zt(i,l):V(0),a=s.left+l.scrollLeft-f.x-c.x,g=s.top+l.scrollTop-f.y-c.y;return{x:a,y:g,width:s.width,height:s.height}}function xt(t){return W(t).position==="static"}function kt(t,e){if(!_(t)||W(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return z(t)===n&&(n=n.ownerDocument.body),n}function ee(t,e){const n=I(t);if(mt(t))return n;if(!_(t)){let i=Y(t);for(;i&&!J(i);){if($(i)&&!xt(i))return i;i=Y(i)}return n}let o=kt(t,e);for(;o&&ae(o)&&xt(o);)o=kt(o,e);return o&&J(o)&&xt(o)&&!At(o)?n:o||ue(t)||n}const Be=async function(t){const e=this.getOffsetParent||ee,n=this.getDimensions,o=await n(t.floating);return{reference:Ie(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ne(t){return W(t).direction==="rtl"}const We={convertOffsetParentRelativeRectToViewportRelativeRect:Me,getDocumentElement:z,getClippingRect:$e,getOffsetParent:ee,getElementRects:Be,getClientRects:Fe,getDimensions:ke,getScale:G,isElement:$,isRTL:Ne};function Ve(t,e){let n=null,o;const i=z(t);function r(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),r();const{left:c,top:a,width:g,height:p}=t.getBoundingClientRect();if(l||e(),!g||!p)return;const u=st(a),d=st(i.clientWidth-(c+g)),h=st(i.clientHeight-(a+p)),x=st(c),v={rootMargin:-u+"px "+-d+"px "+-h+"px "+-x+"px",threshold:D(0,U(1,f))||1};let w=!0;function b(R){const E=R[0].intersectionRatio;if(E!==f){if(!w)return s();E?s(!1,E):o=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(t)}return s(!0),r}function _e(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,c=Ot(t),a=i||r?[...c?et(c):[],...et(e)]:[];a.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),r&&y.addEventListener("resize",n)});const g=c&&l?Ve(c,n):null;let p=-1,u=null;s&&(u=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&u&&(u.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=u)==null||w.observe(e)})),n()}),c&&!f&&u.observe(c),u.observe(e));let d,h=f?X(t):null;f&&x();function x(){const y=X(t);h&&(y.x!==h.x||y.y!==h.y||y.width!==h.width||y.height!==h.height)&&n(),h=y,d=requestAnimationFrame(x)}return n(),()=>{var y;a.forEach(v=>{i&&v.removeEventListener("scroll",n),r&&v.removeEventListener("resize",n)}),g==null||g(),(y=u)==null||y.disconnect(),u=null,f&&cancelAnimationFrame(d)}}const wt=ht,ze=Ee,je=Ae,Ye=Re,qe=Se,Ue=(t,e,n)=>{const o=new Map,i={platform:We,...n},r={...i.platform,_c:o};return be(t,e,{...i,platform:r})};var lt=typeof document<"u"?m.useLayoutEffect:m.useEffect;function ut(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!ut(t[o],e[o]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,i[o]))return!1;for(o=n;o--!==0;){const r=i[o];if(!(r==="_owner"&&t.$$typeof)&&!ut(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function ne(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function It(t,e){const n=ne(t);return Math.round(e*n)/n}function yt(t){const e=m.useRef(t);return lt(()=>{e.current=t}),e}function Ke(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:r,floating:s}={},transform:l=!0,whileElementsMounted:f,open:c}=t,[a,g]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,u]=m.useState(o);ut(p,o)||u(o);const[d,h]=m.useState(null),[x,y]=m.useState(null),v=m.useCallback(C=>{C!==E.current&&(E.current=C,h(C))},[]),w=m.useCallback(C=>{C!==O.current&&(O.current=C,y(C))},[]),b=r||d,R=s||x,E=m.useRef(null),O=m.useRef(null),L=m.useRef(a),B=f!=null,F=yt(f),S=yt(i),k=yt(c),P=m.useCallback(()=>{if(!E.current||!O.current)return;const C={placement:e,strategy:n,middleware:p};S.current&&(C.platform=S.current),Ue(E.current,O.current,C).then(A=>{const H={...A,isPositioned:k.current!==!1};T.current&&!ut(L.current,H)&&(L.current=H,ct.flushSync(()=>{g(H)}))})},[p,e,n,S,k]);lt(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(C=>({...C,isPositioned:!1})))},[c]);const T=m.useRef(!1);lt(()=>(T.current=!0,()=>{T.current=!1}),[]),lt(()=>{if(b&&(E.current=b),R&&(O.current=R),b&&R){if(F.current)return F.current(b,R,P);P()}},[b,R,P,F,B]);const j=m.useMemo(()=>({reference:E,floating:O,setReference:v,setFloating:w}),[v,w]),M=m.useMemo(()=>({reference:b,floating:R}),[b,R]),N=m.useMemo(()=>{const C={position:n,left:0,top:0};if(!M.floating)return C;const A=It(M.floating,a.x),H=It(M.floating,a.y);return l?{...C,transform:"translate("+A+"px, "+H+"px)",...ne(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:H}},[n,l,M.floating,a.x,a.y]);return m.useMemo(()=>({...a,update:P,refs:j,elements:M,floatingStyles:N}),[a,P,j,M,N])}const oe=(t,e)=>({...ze(t),options:[t,e]}),Xe=(t,e)=>({...je(t),options:[t,e]}),Ge=(t,e)=>({...Ye(t),options:[t,e]}),Je=(t,e)=>({...qe(t),options:[t,e]}),ie={...le},Qe=ie.useInsertionEffect,Ze=Qe||(t=>t());function re(t){const e=m.useRef(()=>{});return Ze(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e.current==null?void 0:e.current(...o)},[])}var Et=typeof document<"u"?m.useLayoutEffect:m.useEffect;let Bt=!1,tn=0;const Nt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tn++;function en(){const[t,e]=m.useState(()=>Bt?Nt():void 0);return Et(()=>{t==null&&e(Nt())},[]),m.useEffect(()=>{Bt=!0},[]),t}const nn=ie.useId,on=nn||en;function rn(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(i=>i!==n))||[])}}}const sn=m.createContext(null),ln=m.createContext(null),cn=()=>{var t;return((t=m.useContext(sn))==null?void 0:t.id)||null},fn=()=>m.useContext(ln),an="data-floating-ui-focusable";function un(t){const{open:e=!1,onOpenChange:n,elements:o}=t,i=on(),r=m.useRef({}),[s]=m.useState(()=>rn()),l=cn()!=null,[f,c]=m.useState(o.reference),a=re((u,d,h)=>{r.current.openEvent=u?d:void 0,s.emit("openchange",{open:u,event:d,reason:h,nested:l}),n==null||n(u,d,h)}),g=m.useMemo(()=>({setPositionReference:c}),[]),p=m.useMemo(()=>({reference:f||o.reference||null,floating:o.floating||null,domReference:o.reference}),[f,o.reference,o.floating]);return m.useMemo(()=>({dataRef:r,open:e,onOpenChange:a,elements:p,events:s,floatingId:i,refs:g}),[e,a,p,s,i,g])}function dn(t){t===void 0&&(t={});const{nodeId:e}=t,n=un({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,i=o.elements,[r,s]=m.useState(null),[l,f]=m.useState(null),a=(i==null?void 0:i.domReference)||r,g=m.useRef(null),p=fn();Et(()=>{a&&(g.current=a)},[a]);const u=Ke({...t,elements:{...i,...l&&{reference:l}}}),d=m.useCallback(w=>{const b=$(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;f(b),u.refs.setReference(b)},[u.refs]),h=m.useCallback(w=>{($(w)||w===null)&&(g.current=w,s(w)),($(u.refs.reference.current)||u.refs.reference.current===null||w!==null&&!$(w))&&u.refs.setReference(w)},[u.refs]),x=m.useMemo(()=>({...u.refs,setReference:h,setPositionReference:d,domReference:g}),[u.refs,h,d]),y=m.useMemo(()=>({...u.elements,domReference:a}),[u.elements,a]),v=m.useMemo(()=>({...u,...o,refs:x,elements:y,nodeId:e}),[u,x,y,e,o]);return Et(()=>{o.dataRef.current.floatingContext=v;const w=p==null?void 0:p.nodesRef.current.find(b=>b.id===e);w&&(w.context=v)}),m.useMemo(()=>({...u,context:v,refs:x,elements:y}),[u,x,y,v])}const Wt="active",Vt="selected";function vt(t,e,n){const o=new Map,i=n==="item";let r=t;if(i&&t){const{[Wt]:s,[Vt]:l,...f}=t;r=f}return{...n==="floating"&&{tabIndex:-1,[an]:""},...r,...e.map(s=>{const l=s?s[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((s,l)=>(l&&Object.entries(l).forEach(f=>{let[c,a]=f;if(!(i&&[Wt,Vt].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof a=="function"){var g;(g=o.get(c))==null||g.push(a),s[c]=function(){for(var p,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return(p=o.get(c))==null?void 0:p.map(x=>x(...d)).find(x=>x!==void 0)}}}else s[c]=a}),s),{})}}function mn(t){t===void 0&&(t=[]);const e=t.map(l=>l==null?void 0:l.reference),n=t.map(l=>l==null?void 0:l.floating),o=t.map(l=>l==null?void 0:l.item),i=m.useCallback(l=>vt(l,t,"reference"),e),r=m.useCallback(l=>vt(l,t,"floating"),n),s=m.useCallback(l=>vt(l,t,"item"),o);return m.useMemo(()=>({getReferenceProps:i,getFloatingProps:r,getItemProps:s}),[i,r,s])}function _t(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const gn=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:o,onFallbackChange:i,offset:r=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:f=0,scrollRef:c,...a}=Z(t,e),{rects:g,elements:{floating:p}}=e,u=n.current[s],d=(c==null?void 0:c.current)||p,h=p.clientTop||d.clientTop,x=p.clientTop!==0,y=d.clientTop!==0,v=p===d;if(!u)return{};const w={...e,...await oe(-u.offsetTop-p.clientTop-g.reference.height/2-u.offsetHeight/2-r).fn(e)},b=await wt(_t(w,d.scrollHeight+h+p.clientTop),a),R=await wt(w,{...a,elementContext:"reference"}),E=D(0,b.top),O=w.y+E,F=(d.scrollHeight>d.clientHeight?S=>S:nt)(D(0,d.scrollHeight+(x&&v||y?h*2:0)-E-D(0,b.bottom)));if(d.style.maxHeight=F+"px",d.scrollTop=E,i){const S=d.offsetHeight<u.offsetHeight*U(l,n.current.length)-1||R.top>=-f||R.bottom>=-f;ct.flushSync(()=>i(S))}return o&&(o.current=await wt(_t({...w,y:O},d.offsetHeight+h+p.clientTop),a)),{y:O}}});function hn(t,e){const{open:n,elements:o}=t,{enabled:i=!0,overflowRef:r,scrollRef:s,onChange:l}=e,f=re(l),c=m.useRef(!1),a=m.useRef(null),g=m.useRef(null);m.useEffect(()=>{if(!i)return;function u(h){if(h.ctrlKey||!d||r.current==null)return;const x=h.deltaY,y=r.current.top>=-.5,v=r.current.bottom>=-.5,w=d.scrollHeight-d.clientHeight,b=x<0?-1:1,R=x<0?"max":"min";d.scrollHeight<=d.clientHeight||(!y&&x>0||!v&&x<0?(h.preventDefault(),ct.flushSync(()=>{f(E=>E+Math[R](x,w*b))})):/firefox/i.test(de())&&(d.scrollTop+=x))}const d=(s==null?void 0:s.current)||o.floating;if(n&&d)return d.addEventListener("wheel",u),requestAnimationFrame(()=>{a.current=d.scrollTop,r.current!=null&&(g.current={...r.current})}),()=>{a.current=null,g.current=null,d.removeEventListener("wheel",u)}},[i,n,o.floating,r,s,f]);const p=m.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const u=(s==null?void 0:s.current)||o.floating;if(!(!r.current||!u||!c.current)){if(a.current!==null){const d=u.scrollTop-a.current;(r.current.bottom<-.5&&d<-1||r.current.top<-.5&&d>1)&&ct.flushSync(()=>f(h=>h+d))}requestAnimationFrame(()=>{a.current=u.scrollTop})}}}),[o.floating,f,r,s]);return m.useMemo(()=>i?{floating:p}:{},[i,p])}let tt=m.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});tt.displayName="FloatingContext";let Mt=m.createContext(null);Mt.displayName="PlacementContext";function Rn(t){return m.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Cn(){return m.useContext(tt).setReference}function En(){return m.useContext(tt).getReferenceProps}function An(){let{getFloatingProps:t,slot:e}=m.useContext(tt);return m.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function Sn(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=m.useContext(Mt),n=m.useMemo(()=>t,[JSON.stringify(t,(i,r)=>{var s;return(s=r==null?void 0:r.outerHTML)!=null?s:r})]);ot(()=>{e==null||e(n??null)},[e,n]);let o=m.useContext(tt);return m.useMemo(()=>[o.setFloating,t?o.styles:{}],[o.setFloating,t,o.styles])}let zt=4;function On({children:t,enabled:e=!0}){let[n,o]=m.useState(null),[i,r]=m.useState(0),s=m.useRef(null),[l,f]=m.useState(null);pn(l);let c=e&&n!==null&&l!==null,{to:a="bottom",gap:g=0,offset:p=0,padding:u=0,inner:d}=xn(n,l),[h,x="center"]=a.split(" ");ot(()=>{c&&r(0)},[c]);let{refs:y,floatingStyles:v,context:w}=dn({open:c,placement:h==="selection"?x==="center"?"bottom":`bottom-${x}`:x==="center"?`${h}`:`${h}-${x}`,strategy:"absolute",transform:!1,middleware:[oe({mainAxis:h==="selection"?0:g,crossAxis:p}),Xe({padding:u}),h!=="selection"&&Ge({padding:u}),h==="selection"&&d?gn({...d,padding:u,overflowRef:s,offset:i,minItemsVisible:zt,referenceOverflowThreshold:u,onFallbackChange(S){var k,P;if(!S)return;let T=w.elements.floating;if(!T)return;let j=parseFloat(getComputedStyle(T).scrollPaddingBottom)||0,M=Math.min(zt,T.childElementCount),N=0,C=0;for(let A of(P=(k=w.elements.floating)==null?void 0:k.childNodes)!=null?P:[])if(A instanceof HTMLElement){let H=A.offsetTop,Ft=H+A.clientHeight+j,pt=T.scrollTop,Pt=pt+T.clientHeight;if(H>=pt&&Ft<=Pt)M--;else{C=Math.max(0,Math.min(Ft,Pt)-Math.max(H,pt)),N=A.clientHeight;break}}M>=1&&r(A=>{let H=N*M-C+j;return A>=H?A:H})}}):null,Je({padding:u,apply({availableWidth:S,availableHeight:k,elements:P}){Object.assign(P.floating.style,{overflow:"auto",maxWidth:`${S}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${k}px)`})}})].filter(Boolean),whileElementsMounted:_e}),[b=h,R=x]=w.placement.split("-");h==="selection"&&(b="selection");let E=m.useMemo(()=>({anchor:[b,R].filter(Boolean).join(" ")}),[b,R]),O=hn(w,{overflowRef:s,onChange:r}),{getReferenceProps:L,getFloatingProps:B}=mn([O]),F=Yt(S=>{f(S),y.setFloating(S)});return m.createElement(Mt.Provider,{value:o},m.createElement(tt.Provider,{value:{setFloating:F,setReference:y.setReference,styles:v,getReferenceProps:L,getFloatingProps:B,slot:E}},t))}function pn(t){ot(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,o=parseFloat(n);if(isNaN(o))return;let i=parseInt(n);isNaN(i)||o!==i&&(t.style.maxHeight=`${Math.ceil(o)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function xn(t,e){var n,o,i;let r=bt((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),s=bt((o=t==null?void 0:t.offset)!=null?o:"var(--anchor-offset, 0)",e),l=bt((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:r,offset:s,padding:l}}function bt(t,e,n=void 0){let o=ce(),i=Yt((f,c)=>{if(f==null)return[n,null];if(typeof f=="number")return[f,null];if(typeof f=="string"){if(!c)return[n,null];let a=jt(f,c);return[a,g=>{let p=se(f);{let u=p.map(d=>window.getComputedStyle(c).getPropertyValue(d));o.requestAnimationFrame(function d(){o.nextFrame(d);let h=!1;for(let[y,v]of p.entries()){let w=window.getComputedStyle(c).getPropertyValue(v);if(u[y]!==w){u[y]=w,h=!0;break}}if(!h)return;let x=jt(f,c);a!==x&&(g(x),a=x)})}return o.dispose}]}return[n,null]}),r=m.useMemo(()=>i(t,e)[0],[t,e]),[s=r,l]=m.useState();return ot(()=>{let[f,c]=i(t,e);if(l(f),!!c)return c(l)},[t,e]),s}function se(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let o=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[o,...se(i)]:[o]}return[]}function jt(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),o}export{En as F,On as M,Sn as R,An as b,bn as d,Rn as x,Cn as y};
