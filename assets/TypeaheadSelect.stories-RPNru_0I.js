import{j as L}from"./jsx-runtime-DR9Q75dM.js";import{a as dt,c as ct,b as mt,u as pt,F as ft}from"./FormLabelText-2tTELyhz.js";import"./FormCheckbox-CthDTzDt.js";import"./FormControl-DGcDh0VE.js";import{F as ht}from"./FormError-Cspxj7f0.js";import"./FormFileInput-DBymLeFk.js";import{l as bt,T as gt,u as vt,j as xt}from"./FormRadioGroupOption-CokWDAQ8.js";import"./FormRangeSlider-D1_AsYb-.js";import"./FormTextarea-Do43OudD.js";import"./FormToggleSwitch-DiQNfjGD.js";import{c as ne}from"./index-lhGYx47h.js";import{r as m,R as V}from"./index-DRjF_FHU.js";import{l as $e,f as It,d as St,g as yt,u as Et}from"./useSelectFormSync-CVyzP-tt.js";import{u as Tt}from"./lodash-CaEHFKMH.js";import{B as Ot}from"./Badge-DN_ucINC.js";import{$ as tt,a as nt}from"./useFocusRing-Bmn-zFZf.js";import{r as ie}from"./index-rX-Bn4lm.js";import{w as Ct,e as wt}from"./use-resolve-button-type-CNcqzI1Z.js";import{o as E,O as Pe,K as de,u as le,n as te,L as ce,y as Ie,p as Rt,_ as Ce,s as Mt,b as _e,c as U}from"./keyboard-CUk6zo9K.js";import{M as Dt,y as $t,x as Pt,R as _t,b as Ft,d as Fe}from"./floating-DlhN9gcG.js";import{y as zt}from"./use-inert-others-zdk8ktqN.js";import{R as kt,n as ot,m as Lt,f as Nt,r as qt,a as At}from"./portal-ddnK3kf1.js";import{E as Vt}from"./use-event-listener-h_Uk4X8M.js";import{u as jt,c as P,f as ze}from"./calculate-active-index-u79R9Ahj.js";import{c as Bt,i as xe,u as Ut,x as Wt,R as Ht}from"./use-server-handoff-complete-BT_ig_8b.js";import{F as Kt}from"./use-tree-walker-B21Ow2Em.js";import{m as ke,r as Le}from"./active-element-history-Cj0Rrgiq.js";import{a as Gt,U as Qt}from"./description-DnSH_hHI.js";import{K as Zt,u as Jt,I as we,Q as Xt}from"./label-DKwZbPqi.js";import{r as Yt}from"./bugs-DpEN4NTH.js";import{_ as en}from"./focus-management-BR9cTPnt.js";import{a as tn,M as Ne}from"./MenuItem-Cd_vHKCC.js";import"./Button-C8Er2sLW.js";import"./hidden-ZETsWED3.js";import"./Icons-C2hG1eOz.js";function se(e,s,t){let n=t.initialDeps??[],o;return()=>{var r,l,i,a;let d;t.key&&((r=t.debug)!=null&&r.call(t))&&(d=Date.now());const c=e();if(!(c.length!==n.length||c.some((u,I)=>n[I]!==u)))return o;n=c;let x;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(x=Date.now()),o=s(...c),t.key&&((i=t.debug)!=null&&i.call(t))){const u=Math.round((Date.now()-d)*100)/100,I=Math.round((Date.now()-x)*100)/100,S=I/16,h=(R,q)=>{for(R=String(R);R.length<q;)R=" "+R;return R};console.info(`%c⏱ ${h(I,5)} /${h(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(a=t==null?void 0:t.onChange)==null||a.call(t,o),o}}function Te(e,s){if(e===void 0)throw new Error("Unexpected undefined");return e}const nn=(e,s)=>Math.abs(e-s)<1,on=(e,s,t)=>{let n;return function(...o){e.clearTimeout(n),n=e.setTimeout(()=>s.apply(this,o),t)}},sn=e=>e,ln=e=>{const s=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=s;o<=t;o++)n.push(o);return n},rn=(e,s)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;const o=l=>{const{width:i,height:a}=l;s({width:Math.round(i),height:Math.round(a)})};if(o(t.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const r=new n.ResizeObserver(l=>{const i=l[0];if(i!=null&&i.borderBoxSize){const a=i.borderBoxSize[0];if(a){o({width:a.inlineSize,height:a.blockSize});return}}o(t.getBoundingClientRect())});return r.observe(t,{box:"border-box"}),()=>{r.unobserve(t)}},qe={passive:!0},an=typeof window>"u"?!0:"onscrollend"in window,un=(e,s)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;let o=0;const r=e.options.useScrollendEvent&&an?()=>{}:on(n,()=>{s(o,!1)},e.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:c,isRtl:f}=e.options;o=c?t.scrollLeft*(f&&-1||1):t.scrollTop,r(),s(o,d)},i=l(!0),a=l(!1);return a(),t.addEventListener("scroll",i,qe),t.addEventListener("scrollend",a,qe),()=>{t.removeEventListener("scroll",i),t.removeEventListener("scrollend",a)}},dn=(e,s,t)=>{if(s!=null&&s.borderBoxSize){const n=s.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},cn=(e,{adjustments:s=0,behavior:t},n)=>{var o,r;const l=e+s;(r=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||r.call(o,{[n.options.horizontal?"left":"top"]:l,behavior:t})};class mn{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(o=>{o.forEach(r=>{this._measureElement(r.target,r)})}));return{disconnect:()=>{var o;(o=n())==null||o.disconnect(),t=null},observe:o=>{var r;return(r=n())==null?void 0:r.observe(o,{box:"border-box"})},unobserve:o=>{var r;return(r=n())==null?void 0:r.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:sn,rangeExtractor:ln,onChange:()=>{},measureElement:dn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...t}},this.notify=t=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,t)},this.maybeNotify=se(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,r)=>{this.scrollAdjustments=0,this.scrollDirection=r?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=r,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,n)=>{const o=new Map,r=new Map;for(let l=n-1;l>=0;l--){const i=t[l];if(o.has(i.lane))continue;const a=r.get(i.lane);if(a==null||i.end>a.end?r.set(i.lane,i):i.end<a.end&&o.set(i.lane,!0),o.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((l,i)=>l.end===i.end?l.index-i.index:l.end-i.end)[0]:void 0},this.getMeasurementOptions=se(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,n,o,r,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:r,enabled:l}),{key:!1}),this.getMeasurements=se(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:r,enabled:l},i)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,a);for(let c=a;c<t;c++){const f=r(c),x=this.options.lanes===1?d[c-1]:this.getFurthestMeasurement(d,c),u=x?x.end+this.options.gap:n+o,I=i.get(f),S=typeof I=="number"?I:this.options.estimateSize(c),h=u+S,R=x?x.lane:c%this.options.lanes;d[c]={index:c,start:u,size:S,end:h,key:f,lane:R}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=se(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,n,o)=>this.range=t.length>0&&n>0?pn({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=se(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,r)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.indexFromElement(t),r=this.measurementsCache[o];if(!r)return;const l=r.key,i=this.elementsCache.get(l);i!==t&&(i&&this.observer.unobserve(i),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(o,this.options.measureElement(t,n,this))},this.resizeItem=(t,n)=>{const o=this.measurementsCache[t];if(!o)return;const r=this.itemSizeCache.get(o.key)??o.size,l=n-r;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,l,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,n)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((n,o)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(o))});return}this._measureElement(t,void 0)},this.getVirtualItems=se(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let r=0,l=t.length;r<l;r++){const i=t[r],a=n[i];o.push(a)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();if(n.length!==0)return Te(n[it(0,n.length-1,o=>Te(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize(),r=this.getScrollOffset();n==="auto"&&(t<=r?n="start":t>=r+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-o;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=this.measurementsCache[t];if(!o)return;const r=this.getSize(),l=this.getScrollOffset();if(n==="auto")if(o.end>=l+r-this.options.scrollPaddingEnd)n="end";else if(o.start<=l+this.options.scrollPaddingStart)n="start";else return[l,n];const i=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(t,n);if(!r)return;const[l,i]=r;this._scrollToOffset(l,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[d]=Te(this.getOffsetForIndex(t,i));nn(d,this.getScrollOffset())||this.scrollToIndex(t,{align:i,behavior:o})}else this.scrollToIndex(t,{align:i,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(r=>r.end)),Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const it=(e,s,t,n)=>{for(;e<=s;){const o=(e+s)/2|0,r=t(o);if(r<n)e=o+1;else if(r>n)s=o-1;else return o}return e>0?e-1:0};function pn({measurements:e,outerSize:s,scrollOffset:t}){const n=e.length-1,r=it(0,n,i=>e[i].start,t);let l=r;for(;l<n&&e[l].end<t+s;)l++;return{startIndex:r,endIndex:l}}const fn=typeof document<"u"?m.useLayoutEffect:m.useEffect;function hn(e){const s=m.useReducer(()=>({}),{})[1],t={...e,onChange:(o,r)=>{var l;r?ie.flushSync(s):s(),(l=e.onChange)==null||l.call(e,o,r)}},[n]=m.useState(()=>new mn(t));return n.setOptions(t),m.useEffect(()=>n._didMount(),[]),fn(()=>n._willUpdate()),n}function bn(e){return hn({observeElementRect:rn,observeElementOffset:un,scrollToFn:cn,...e})}function st(e){let s=m.useRef({value:"",selectionStart:null,selectionEnd:null});return Vt(e,"blur",t=>{let n=t.target;n instanceof HTMLInputElement&&(s.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),E(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==s.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:t,selectionEnd:n}=s.current;t!==null&&n!==null&&e.setSelectionRange(t,n)}s.current={value:"",selectionStart:null,selectionEnd:null}}})}var Re=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Re||{}),gn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(gn||{}),vn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(vn||{}),xn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(xn||{}),In=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(In||{});function Oe(e,s=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=s(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((l,i)=>l.dataRef.current.order-i.dataRef.current.order):en(n,l=>l.dataRef.current.domRef.current),r=t?o.indexOf(t):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let Sn={1(e){var s;return(s=e.dataRef.current)!=null&&s.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var s,t;if((s=e.dataRef.current)!=null&&s.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,s){return e.isTyping===s.isTyping?e:{...e,isTyping:s.isTyping}},2(e,s){var t,n,o,r;if((t=e.dataRef.current)!=null&&t.disabled||e.optionsElement&&!((n=e.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:d,disabled:c}=e.virtual,f=s.focus===P.Specific?s.idx:ze(s,{resolveItems:()=>d,resolveActiveIndex:()=>{var u,I;return(I=(u=e.activeOptionIndex)!=null?u:d.findIndex(S=>!c(S)))!=null?I:null},resolveDisabled:c,resolveId(){throw new Error("Function not implemented.")}}),x=(o=s.trigger)!=null?o:2;return e.activeOptionIndex===f&&e.activationTrigger===x?e:{...e,activeOptionIndex:f,activationTrigger:x,isTyping:!1,__demoMode:!1}}let l=Oe(e);if(l.activeOptionIndex===null){let d=l.options.findIndex(c=>!c.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let i=s.focus===P.Specific?s.idx:ze(s,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),a=(r=s.trigger)!=null?r:2;return e.activeOptionIndex===i&&e.activationTrigger===a?e:{...e,...l,isTyping:!1,activeOptionIndex:i,activationTrigger:a,__demoMode:!1}},4:(e,s)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,s.payload]};let r=s.payload,l=Oe(e,a=>(a.push(r),a));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(s.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(r));let i={...e,...l,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},5:(e,s)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==s.id)};let n=Oe(e,o=>{let r=o.findIndex(l=>l.id===s.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:2}},6:(e,s)=>e.activationTrigger===s.trigger?e:{...e,activationTrigger:s.trigger},7:(e,s)=>{var t,n;if(e.virtual===null)return{...e,virtual:{options:s.options,disabled:(t=s.disabled)!=null?t:()=>!1}};if(e.virtual.options===s.options&&e.virtual.disabled===s.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let r=s.options.indexOf(e.virtual.options[e.activeOptionIndex]);r!==-1?o=r:o=null}return{...e,activeOptionIndex:o,virtual:{options:s.options,disabled:(n=s.disabled)!=null?n:()=>!1}}},8:(e,s)=>e.inputElement===s.element?e:{...e,inputElement:s.element},9:(e,s)=>e.buttonElement===s.element?e:{...e,buttonElement:s.element},10:(e,s)=>e.optionsElement===s.element?e:{...e,optionsElement:s.element}},Me=m.createContext(null);Me.displayName="ComboboxActionsContext";function me(e){let s=m.useContext(Me);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,me),t}return s}let lt=m.createContext(null);function yn(e){let s=re("VirtualProvider"),{options:t}=s.virtual,[n,o]=m.useMemo(()=>{let d=s.optionsElement;if(!d)return[0,0];let c=window.getComputedStyle(d);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[s.optionsElement]),r=bn({enabled:t.length!==0,scrollPaddingStart:n,scrollPaddingEnd:o,count:t.length,estimateSize(){return 40},getScrollElement(){return s.optionsElement},overscan:12}),[l,i]=m.useState(0);te(()=>{i(d=>d+1)},[t]);let a=r.getVirtualItems();return a.length===0?null:V.createElement(lt.Provider,{value:r},V.createElement("div",{style:{position:"relative",width:"100%",height:`${r.getTotalSize()}px`},ref:d=>{d&&s.activationTrigger!==0&&s.activeOptionIndex!==null&&t.length>s.activeOptionIndex&&r.scrollToIndex(s.activeOptionIndex)}},a.map(d=>{var c;return V.createElement(m.Fragment,{key:d.key},V.cloneElement((c=e.children)==null?void 0:c.call(e,{...e.slot,option:t[d.index]}),{key:`${l}-${d.key}`,"data-index":d.index,"aria-setsize":t.length,"aria-posinset":d.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${d.start}px)`,overflowAnchor:"none"}}))})))}let ue=m.createContext(null);ue.displayName="ComboboxDataContext";function re(e){let s=m.useContext(ue);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,re),t}return s}function En(e,s){return le(s.type,Sn,e,s)}let Tn=m.Fragment;function On(e,s){var t,n;let o=Gt(),{value:r,defaultValue:l,onChange:i,form:a,name:d,by:c,disabled:f=o||!1,onClose:x,__demoMode:u=!1,multiple:I=!1,immediate:S=!1,virtual:h=null,nullable:R,...q}=e,M=bt(l),[O=I?[]:void 0,_]=gt(r,i,M),[T,b]=m.useReducer(En,{dataRef:m.createRef(),comboboxState:u?0:1,isTyping:!1,options:[],virtual:h?{options:h.options,disabled:(t=h.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:u}),$=m.useRef(!1),K=m.useRef({static:!1,hold:!1}),F=vt(c),j=E(g=>h?c===null?h.options.indexOf(g):h.options.findIndex(D=>F(D,g)):T.options.findIndex(D=>F(D.dataRef.current.value,g))),G=m.useCallback(g=>le(v.mode,{1:()=>O.some(D=>F(D,g)),0:()=>F(O,g)}),[O]),Q=E(g=>T.activeOptionIndex===j(g)),v=m.useMemo(()=>({...T,immediate:S,optionsPropsRef:K,value:O,defaultValue:M,disabled:f,mode:I?1:0,virtual:h?T.virtual:null,get activeOptionIndex(){if($.current&&T.activeOptionIndex===null&&(h?h.options.length>0:T.options.length>0)){if(h){let D=h.options.findIndex(X=>{var pe,De;return!((De=(pe=h.disabled)==null?void 0:pe.call(h,X))!=null&&De)});if(D!==-1)return D}let g=T.options.findIndex(D=>!D.dataRef.current.disabled);if(g!==-1)return g}return T.activeOptionIndex},calculateIndex:j,compare:F,isSelected:G,isActive:Q}),[O,M,f,I,u,T,h]);te(()=>{var g;h&&b({type:7,options:h.options,disabled:(g=h.disabled)!=null?g:null})},[h,h==null?void 0:h.options,h==null?void 0:h.disabled]),te(()=>{T.dataRef.current=v},[v]);let C=v.comboboxState===0;kt(C,[v.buttonElement,v.inputElement,v.optionsElement],()=>N.closeCombobox());let H=m.useMemo(()=>{var g,D,X;return{open:v.comboboxState===0,disabled:f,activeIndex:v.activeOptionIndex,activeOption:v.activeOptionIndex===null?null:v.virtual?v.virtual.options[(g=v.activeOptionIndex)!=null?g:0]:(X=(D=v.options[v.activeOptionIndex])==null?void 0:D.dataRef.current.value)!=null?X:null,value:O}},[v,f,O]),J=E(()=>{if(v.activeOptionIndex!==null){if(N.setIsTyping(!1),v.virtual)p(v.virtual.options[v.activeOptionIndex]);else{let{dataRef:g}=v.options[v.activeOptionIndex];p(g.current.value)}N.goToOption(P.Specific,v.activeOptionIndex)}}),Y=E(()=>{b({type:0}),$.current=!0}),Z=E(()=>{b({type:1}),$.current=!1,x==null||x()}),B=E(g=>{b({type:3,isTyping:g})}),ee=E((g,D,X)=>($.current=!1,g===P.Specific?b({type:2,focus:P.Specific,idx:D,trigger:X}):b({type:2,focus:g,trigger:X}))),z=E((g,D)=>(b({type:4,payload:{id:g,dataRef:D}}),()=>{v.isActive(D.current.value)&&($.current=!0),b({type:5,id:g})})),p=E(g=>le(v.mode,{0(){return _==null?void 0:_(g)},1(){let D=v.value.slice(),X=D.findIndex(pe=>F(pe,g));return X===-1?D.push(g):D.splice(X,1),_==null?void 0:_(D)}})),W=E(g=>{b({type:6,trigger:g})}),k=E(g=>{b({type:8,element:g})}),A=E(g=>{b({type:9,element:g})}),w=E(g=>{b({type:10,element:g})}),N=m.useMemo(()=>({onChange:p,registerOption:z,goToOption:ee,setIsTyping:B,closeCombobox:Z,openCombobox:Y,setActivationTrigger:W,selectActiveOption:J,setInputElement:k,setButtonElement:A,setOptionsElement:w}),[]),[y,ae]=Zt(),Se=s===null?{}:{ref:s},ye=m.useCallback(()=>{if(M!==void 0)return _==null?void 0:_(M)},[_,M]),Ee=ce();return V.createElement(ae,{value:y,props:{htmlFor:(n=v.inputElement)==null?void 0:n.id},slot:{open:v.comboboxState===0,disabled:f}},V.createElement(Dt,null,V.createElement(Me.Provider,{value:N},V.createElement(ue.Provider,{value:v},V.createElement(Bt,{value:le(v.comboboxState,{0:xe.Open,1:xe.Closed})},d!=null&&V.createElement(xt,{disabled:f,data:O!=null?{[d]:O}:{},form:a,onReset:ye}),Ee({ourProps:Se,theirProps:q,slot:H,defaultTag:Tn,name:"Combobox"}))))))}let Cn="input";function wn(e,s){var t,n,o,r,l;let i=re("Combobox.Input"),a=me("Combobox.Input"),d=m.useId(),c=Jt(),{id:f=c||`headlessui-combobox-input-${d}`,onChange:x,displayValue:u,disabled:I=i.disabled||!1,autoFocus:S=!1,type:h="text",...R}=e,q=m.useRef(null),M=Ie(q,s,$t(),a.setInputElement),O=ot(i.inputElement),_=Rt(),T=E(()=>{a.onChange(null),i.optionsElement&&(i.optionsElement.scrollTop=0),a.goToOption(P.Nothing)}),b=m.useMemo(()=>{var p;return typeof u=="function"&&i.value!==void 0?(p=u(i.value))!=null?p:"":typeof i.value=="string"?i.value:""},[i.value,u]);ke(([p,W],[k,A])=>{if(i.isTyping)return;let w=q.current;w&&((A===0&&W===1||p!==k)&&(w.value=p),requestAnimationFrame(()=>{if(i.isTyping||!w||(O==null?void 0:O.activeElement)!==w)return;let{selectionStart:N,selectionEnd:y}=w;Math.abs((y??0)-(N??0))===0&&N===0&&w.setSelectionRange(w.value.length,w.value.length)}))},[b,i.comboboxState,O,i.isTyping]),ke(([p],[W])=>{if(p===0&&W===1){if(i.isTyping)return;let k=q.current;if(!k)return;let A=k.value,{selectionStart:w,selectionEnd:N,selectionDirection:y}=k;k.value="",k.value=A,y!==null?k.setSelectionRange(w,N,y):k.setSelectionRange(w,N)}},[i.comboboxState]);let $=m.useRef(!1),K=E(()=>{$.current=!0}),F=E(()=>{_.nextFrame(()=>{$.current=!1})}),j=E(p=>{switch(a.setIsTyping(!0),p.key){case U.Enter:if(i.comboboxState!==0||$.current)return;if(p.preventDefault(),p.stopPropagation(),i.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),i.mode===0&&a.closeCombobox();break;case U.ArrowDown:return p.preventDefault(),p.stopPropagation(),le(i.comboboxState,{0:()=>a.goToOption(P.Next),1:()=>a.openCombobox()});case U.ArrowUp:return p.preventDefault(),p.stopPropagation(),le(i.comboboxState,{0:()=>a.goToOption(P.Previous),1:()=>{ie.flushSync(()=>a.openCombobox()),i.value||a.goToOption(P.Last)}});case U.Home:if(p.shiftKey)break;return p.preventDefault(),p.stopPropagation(),a.goToOption(P.First);case U.PageUp:return p.preventDefault(),p.stopPropagation(),a.goToOption(P.First);case U.End:if(p.shiftKey)break;return p.preventDefault(),p.stopPropagation(),a.goToOption(P.Last);case U.PageDown:return p.preventDefault(),p.stopPropagation(),a.goToOption(P.Last);case U.Escape:return i.comboboxState!==0?void 0:(p.preventDefault(),i.optionsElement&&!i.optionsPropsRef.current.static&&p.stopPropagation(),i.mode===0&&i.value===null&&T(),a.closeCombobox());case U.Tab:if(i.comboboxState!==0)return;i.mode===0&&i.activationTrigger!==1&&a.selectActiveOption(),a.closeCombobox();break}}),G=E(p=>{x==null||x(p),i.mode===0&&p.target.value===""&&T(),a.openCombobox()}),Q=E(p=>{var W,k,A;let w=(W=p.relatedTarget)!=null?W:Le.find(N=>N!==p.currentTarget);if(!((k=i.optionsElement)!=null&&k.contains(w))&&!((A=i.buttonElement)!=null&&A.contains(w))&&i.comboboxState===0)return p.preventDefault(),i.mode===0&&i.value===null&&T(),a.closeCombobox()}),v=E(p=>{var W,k,A;let w=(W=p.relatedTarget)!=null?W:Le.find(N=>N!==p.currentTarget);(k=i.buttonElement)!=null&&k.contains(w)||(A=i.optionsElement)!=null&&A.contains(w)||i.disabled||i.immediate&&i.comboboxState!==0&&_.microTask(()=>{ie.flushSync(()=>a.openCombobox()),a.setActivationTrigger(1)})}),C=we(),H=Qt(),{isFocused:J,focusProps:Y}=tt({autoFocus:S}),{isHovered:Z,hoverProps:B}=nt({isDisabled:I}),ee=m.useMemo(()=>({open:i.comboboxState===0,disabled:I,hover:Z,focus:J,autofocus:S}),[i,Z,J,S,I]),z=Ce({ref:M,id:f,role:"combobox",type:h,"aria-controls":(t=i.optionsElement)==null?void 0:t.id,"aria-expanded":i.comboboxState===0,"aria-activedescendant":i.activeOptionIndex===null?void 0:i.virtual?(n=i.options.find(p=>!p.dataRef.current.disabled&&i.compare(p.dataRef.current.value,i.virtual.options[i.activeOptionIndex])))==null?void 0:n.id:(o=i.options[i.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":C,"aria-describedby":H,"aria-autocomplete":"list",defaultValue:(l=(r=e.defaultValue)!=null?r:i.defaultValue!==void 0?u==null?void 0:u(i.defaultValue):null)!=null?l:i.defaultValue,disabled:I||void 0,autoFocus:S,onCompositionStart:K,onCompositionEnd:F,onKeyDown:j,onChange:G,onFocus:v,onBlur:Q},Y,B);return ce()({ourProps:z,theirProps:R,slot:ee,defaultTag:Cn,name:"Combobox.Input"})}let Rn="button";function Mn(e,s){var t;let n=re("Combobox.Button"),o=me("Combobox.Button"),r=Ie(s,o.setButtonElement),l=m.useId(),{id:i=`headlessui-combobox-button-${l}`,disabled:a=n.disabled||!1,autoFocus:d=!1,...c}=e,f=st(n.inputElement),x=E(b=>{switch(b.key){case U.Space:case U.Enter:b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&ie.flushSync(()=>o.openCombobox()),f();return;case U.ArrowDown:b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&(ie.flushSync(()=>o.openCombobox()),n.value||o.goToOption(P.First)),f();return;case U.ArrowUp:b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&(ie.flushSync(()=>o.openCombobox()),n.value||o.goToOption(P.Last)),f();return;case U.Escape:if(n.comboboxState!==0)return;b.preventDefault(),n.optionsElement&&!n.optionsPropsRef.current.static&&b.stopPropagation(),ie.flushSync(()=>o.closeCombobox()),f();return;default:return}}),u=E(b=>{b.preventDefault(),!Yt(b.currentTarget)&&(b.button===Re.Left&&(n.comboboxState===0?o.closeCombobox():o.openCombobox()),f())}),I=we([i]),{isFocusVisible:S,focusProps:h}=tt({autoFocus:d}),{isHovered:R,hoverProps:q}=nt({isDisabled:a}),{pressed:M,pressProps:O}=Ct({disabled:a}),_=m.useMemo(()=>({open:n.comboboxState===0,active:M||n.comboboxState===0,disabled:a,value:n.value,hover:R,focus:S}),[n,R,S,M,a]),T=Ce({ref:r,id:i,type:wt(e,n.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsElement)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":I,disabled:a||void 0,autoFocus:d,onMouseDown:u,onKeyDown:x},h,q,O);return ce()({ourProps:T,theirProps:c,slot:_,defaultTag:Rn,name:"Combobox.Button"})}let Dn="div",$n=Pe.RenderStrategy|Pe.Static;function Pn(e,s){var t,n,o;let r=m.useId(),{id:l=`headlessui-combobox-options-${r}`,hold:i=!1,anchor:a,portal:d=!1,modal:c=!0,transition:f=!1,...x}=e,u=re("Combobox.Options"),I=me("Combobox.Options"),S=Pt(a);S&&(d=!0);let[h,R]=_t(S),[q,M]=m.useState(null),O=Ft(),_=Ie(s,S?h:null,I.setOptionsElement,M),T=ot(u.optionsElement),b=Ut(),[$,K]=Wt(f,q,b!==null?(b&xe.Open)===xe.Open:u.comboboxState===0);Lt($,u.inputElement,I.closeCombobox);let F=u.__demoMode?!1:c&&u.comboboxState===0;Nt(F,T);let j=u.__demoMode?!1:c&&u.comboboxState===0;zt(j,{allowed:m.useCallback(()=>[u.inputElement,u.buttonElement,u.optionsElement],[u.inputElement,u.buttonElement,u.optionsElement])}),te(()=>{var z;u.optionsPropsRef.current.static=(z=e.static)!=null?z:!1},[u.optionsPropsRef,e.static]),te(()=>{u.optionsPropsRef.current.hold=i},[u.optionsPropsRef,i]),Kt(u.comboboxState===0,{container:u.optionsElement,accept(z){return z.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:z.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(z){z.setAttribute("role","none")}});let G=we([(t=u.buttonElement)==null?void 0:t.id]),Q=m.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u.comboboxState]),v=E(()=>{I.setActivationTrigger(0)}),C=E(z=>{z.preventDefault(),I.setActivationTrigger(0)}),H=Ce(S?O():{},{"aria-labelledby":G,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:l,ref:_,style:{...x.style,...R,"--input-width":Fe(u.inputElement,!0).width,"--button-width":Fe(u.buttonElement,!0).width},onWheel:u.activationTrigger===0?void 0:v,onMouseDown:C,...Ht(K)}),J=$&&u.comboboxState===1,Y=$e(J,(n=u.virtual)==null?void 0:n.options),Z=$e(J,u.value),B=E(z=>u.compare(Z,z));if(u.virtual){if(Y===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(x,{children:V.createElement(ue.Provider,{value:Y!==u.virtual.options?{...u,virtual:{...u.virtual,options:Y}}:u},V.createElement(yn,{slot:Q},x.children))})}let ee=ce();return V.createElement(qt,{enabled:d?e.static||$:!1},V.createElement(ue.Provider,{value:u.mode===1?u:{...u,isSelected:B}},ee({ourProps:H,theirProps:{...x,children:V.createElement(It,{freeze:J},typeof x.children=="function"?(o=x.children)==null?void 0:o.call(x,Q):x.children)},slot:Q,defaultTag:Dn,features:$n,visible:$,name:"Combobox.Options"})))}let _n="div";function Fn(e,s){var t,n,o,r;let l=re("Combobox.Option"),i=me("Combobox.Option"),a=m.useId(),{id:d=`headlessui-combobox-option-${a}`,value:c,disabled:f=(o=(n=(t=l.virtual)==null?void 0:t.disabled)==null?void 0:n.call(t,c))!=null?o:!1,order:x=null,...u}=e,I=st(l.inputElement),S=l.virtual?l.activeOptionIndex===l.calculateIndex(c):l.activeOptionIndex===null?!1:((r=l.options[l.activeOptionIndex])==null?void 0:r.id)===d,h=l.isSelected(c),R=m.useRef(null),q=Mt({disabled:f,value:c,domRef:R,order:x}),M=m.useContext(lt),O=Ie(s,R,M?M.measureElement:null),_=E(()=>{i.setIsTyping(!1),i.onChange(c)});te(()=>i.registerOption(d,q),[q,d]);let T=m.useRef(!(l.virtual||l.__demoMode));te(()=>{if(!l.virtual&&!l.__demoMode)return _e().requestAnimationFrame(()=>{T.current=!0})},[l.virtual,l.__demoMode]),te(()=>{if(T.current&&l.comboboxState===0&&S&&l.activationTrigger!==0)return _e().requestAnimationFrame(()=>{var C,H;(H=(C=R.current)==null?void 0:C.scrollIntoView)==null||H.call(C,{block:"nearest"})})},[R,S,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let b=E(C=>{C.preventDefault(),C.button===Re.Left&&(f||(_(),At()||requestAnimationFrame(()=>I()),l.mode===0&&i.closeCombobox()))}),$=E(()=>{if(f)return i.goToOption(P.Nothing);let C=l.calculateIndex(c);i.goToOption(P.Specific,C)}),K=jt(),F=E(C=>K.update(C)),j=E(C=>{if(!K.wasMoved(C)||f||S)return;let H=l.calculateIndex(c);i.goToOption(P.Specific,H,0)}),G=E(C=>{K.wasMoved(C)&&(f||S&&(l.optionsPropsRef.current.hold||i.goToOption(P.Nothing)))}),Q=m.useMemo(()=>({active:S,focus:S,selected:h,disabled:f}),[S,h,f]),v={id:d,ref:O,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":h,disabled:void 0,onMouseDown:b,onFocus:$,onPointerEnter:F,onMouseEnter:F,onPointerMove:j,onMouseMove:j,onPointerLeave:G,onMouseLeave:G};return ce()({ourProps:v,theirProps:u,slot:Q,defaultTag:_n,name:"Combobox.Option"})}let zn=de(On),kn=de(Mn),Ln=de(wn),Nn=Xt,qn=de(Pn),An=de(Fn),oe=Object.assign(zn,{Input:Ln,Button:kn,Label:Nn,Options:qn,Option:An});const Vn=(e,s)=>{const[t,n]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>{n(e)},s);return()=>{clearTimeout(r)}},[e,s]),{debouncedValue:t,isDebouncing:!!e&&e!==t}},jn=(e,s)=>m.useEffect(()=>{const t=n=>{e.current!==null&&!e.current.contains(n.target)&&s(n)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[s,e]),Bn=({debounceTime:e,onDebouncedChange:s,options:t})=>{const n=m.useRef(s),[o,r]=m.useState(!1),[l,i]=m.useState(""),{debouncedValue:a}=Vn(l,e??400),d=m.useMemo(()=>{const c=l.trim();return c===""?c:a.trim()},[l,a]);return m.useEffect(()=>{n.current(d)},[d]),m.useEffect(()=>{t!==void 0&&r(!1)},[t]),m.useEffect(()=>{r(l!=="")},[l]),{isLoading:o,query:l,setQuery:i}},rt=({children:e,className:s,disabled:t,name:n,selectedItems:o,setSelectedItems:r})=>L.jsx(oe,{as:"div",by:St,className:s,disabled:t,multiple:!0,name:n,onChange:l=>r(l),value:o,children:e});rt.__docgenInfo={description:"",methods:[],displayName:"ComboboxMulti",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},selectedItems:{required:!0,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},setSelectedItems:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"}],raw:"SetStateAction<DataItem[]>"}],raw:"Dispatch<SetStateAction<DataItem[]>>"},description:""}},composes:["Pick"]};const at=({children:e,className:s,disabled:t,name:n,selectedItems:o,setSelectedItems:r})=>{const l=o[0]??null;return L.jsx(oe,{as:"div",by:"id",className:s,disabled:t,name:n,nullable:!0,onChange:i=>i&&r([i]),value:l,children:e})};at.__docgenInfo={description:"",methods:[],displayName:"ComboboxSingle",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},selectedItems:{required:!0,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},setSelectedItems:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"}],raw:"SetStateAction<DataItem[]>"}],raw:"Dispatch<SetStateAction<DataItem[]>>"},description:""}},composes:["Pick"]};const Un=({debounceTime:e,onDebouncedChange:s,options:t})=>{const[n,o]=m.useState([]),[r,l]=m.useState(!1),i=m.useRef(null),a=m.useRef(null),{isLoading:d,query:c,setQuery:f}=Bn({debounceTime:e,onDebouncedChange:s,options:t}),x=u=>o(I=>I.filter((S,h)=>u!==h));return jn(i,()=>l(!1)),m.useEffect(()=>{var u;r?(u=a.current)==null||u.focus():f("")},[r,f]),{clearSelectedItem:x,dropdownRef:i,isLoading:d,query:c,showDropdown:r,searchInputRef:a,selectedItems:n,setShowDropdown:l,setSelectedItems:o,setQuery:f}},ut=({badgeColor:e,bordered:s,className:t,color:n,controllerProps:o,debounceTime:r,disabled:l,disableSingleSelectBadge:i,dropdownInputClassName:a,formValueMode:d,getBadgeClassName:c,getBadgeText:f,getItemText:x,inputClassName:u,inputPlaceholder:I,isRequired:S,labelText:h,menuClassName:R,menuSize:q,multi:M,name:O,onDebouncedChange:_,onKeyDown:T,options:b,placeholder:$,showDirty:K,size:F})=>{const{fieldState:{error:j},field:{ref:G}}=dt({...o,name:O}),{clearSelectedItem:Q,dropdownRef:v,isLoading:C,query:H,showDropdown:J,searchInputRef:Y,selectedItems:Z,setShowDropdown:B,setSelectedItems:ee,setQuery:z}=Un({debounceTime:r,onDebouncedChange:_,options:b}),p=yt(b??[]);Et({multi:M,name:O,onItemSelect:()=>M!==!0&&B(!1),options:p,selectedItems:Z,setSelectedItems:ee,valueMode:d});const{setFocus:W}=ct(),A=Tt(O,K)??n??void 0,w=i===void 0||M===!0,N=M===!0?rt:at;return L.jsxs(N,{className:ne("relative",t),disabled:l,name:O,selectedItems:Z,setSelectedItems:y=>{ee(y),M===void 0&&W(O)},children:[L.jsxs("label",{className:"form-control",children:[h!==void 0?L.jsx("div",{className:"label",children:L.jsx(oe.Label,{as:mt,isRequired:S,children:h})}):null,w?L.jsx("div",{className:ne("input flex items-center gap-1 overflow-x-scroll scrollbar-none",s&&"input-bordered",!l&&"cursor-pointer",A&&`input-${A}`,F&&`input-${F}`,u),onBlur:y=>{y.relatedTarget===null&&B(!1)},onClick:()=>!l&&B(!0),onKeyDown:y=>{y.key==="Enter"?(y.preventDefault(),B(!0)):y.key.length===1&&B(!0)},ref:G,tabIndex:l?-1:0,children:Z.length>0?Z.map((y,ae)=>L.jsx(Ot,{className:c==null?void 0:c(y),color:e??"neutral",dismissable:!0,onDismiss:()=>Q(ae),children:(f==null?void 0:f(y))??x(y)},y.id)):$}):L.jsx(oe.Input,{className:ne("input w-full",s&&"input-bordered",A&&`input-${A}`,F&&`input-${F}`,u),onChange:({target:{value:y}})=>{z(y),y.length>0?B(!0):(B(!1),ee([]))},onKeyDown:T,placeholder:$,ref:G})]}),J?L.jsxs(oe.Options,{as:tn,className:ne("rounded-box absolute z-50 bg-base-100 p-2 shadow-xl",R),ref:v,size:q,static:!0,children:[w?L.jsx(oe.Input,{className:ne("input w-full",a),onChange:({target:{value:y}})=>{z(y)},onKeyDown:y=>{y.key==="Tab"&&B(!1),T==null||T(y)},placeholder:I,ref:Y,value:H}):null,C?L.jsx("progress",{className:ne("progress w-full",w&&"mt-2")}):null,!C&&(b==null?void 0:b.length)===0?L.jsx(Ne,{disabled:!0,children:"No Results"}):null,C?null:b==null?void 0:b.map((y,ae)=>L.jsx(oe.Option,{as:m.Fragment,value:y,children:({active:Se,disabled:ye,selected:Ee})=>L.jsx(Ne,{className:ne(ae===0&&w&&"mt-2"),disabled:ye,focus:Se,selected:M===!0?Ee:void 0,children:x(y)})},y.id))]}):null,(j==null?void 0:j.message)!==void 0?L.jsx(ht,{children:j.message}):null]})};ut.__docgenInfo={description:"",methods:[],displayName:"TypeaheadSelect",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},onDebouncedChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},options:{required:!1,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},controllerProps:{required:!1,tsType:{name:"Omit",elements:[{name:"UseControllerProps",elements:[{name:"Values"}],raw:"UseControllerProps<Values>"},{name:"literal",value:"'name'"}],raw:"Omit<UseControllerProps<Values>, 'name'>"},description:""},isRequired:{required:!1,tsType:{name:"boolean"},description:""},labelText:{required:!1,tsType:{name:"string"},description:""},name:{required:!0,tsType:{name:"Path",elements:[{name:"Values"}],raw:"Path<Values>"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},showDirty:{required:!1,tsType:{name:"boolean"},description:""},badgeColor:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof BADGE_COLORS)[number]"},description:""},bordered:{required:!1,tsType:{name:"boolean"},description:""},color:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof INPUT_COLORS)[number]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},dropdownInputClassName:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},disableSingleSelectBadge:{required:!1,tsType:{name:"literal",value:"true"},description:""},formValueMode:{required:!1,tsType:{name:"union",raw:"'item' | 'id'",elements:[{name:"literal",value:"'item'"},{name:"literal",value:"'id'"}]},description:""},getBadgeClassName:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: DataItem) => string",signature:{arguments:[{type:{name:"DataItem"},name:"item"}],return:{name:"string"}}},description:""},getBadgeText:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: DataItem) => ReactNode",signature:{arguments:[{type:{name:"DataItem"},name:"item"}],return:{name:"ReactNode"}}},description:""},getItemText:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: DataItem) => ReactNode",signature:{arguments:[{type:{name:"DataItem"},name:"data"}],return:{name:"ReactNode"}}},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},inputPlaceholder:{required:!1,tsType:{name:"string"},description:""},menuClassName:{required:!1,tsType:{name:"string"},description:""},menuSize:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof MENU_SIZES)[number]"},description:""},multi:{required:!1,tsType:{name:"literal",value:"true"},description:""},onKeyDown:{required:!1,tsType:{name:"KeyboardEventHandler",elements:[{name:"HTMLInputElement"}],raw:"KeyboardEventHandler<HTMLInputElement>"},description:""},size:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof INPUT_SIZES)[number]"},description:""}}};const wo={title:"TypeaheadSelect",component:ut,decorators:[e=>{const s=pt();return L.jsx(ft,{className:"h-80 w-64",methods:s,onFormSubmit:()=>null,children:L.jsx(e,{})})}]},fe={args:{labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},he={args:{disableSingleSelectBadge:!0,labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},be={args:{labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},ge={args:{className:"min-w-[250px] max-w-[400px]",labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],multi:!0,placeholder:"Select..."}},ve={args:{className:"min-w-[250px] max-w-[400px]",labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],multi:!0,placeholder:"Select..."}};var Ae,Ve,je;fe.parameters={...fe.parameters,docs:{...(Ae=fe.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  args: {
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(je=(Ve=fe.parameters)==null?void 0:Ve.docs)==null?void 0:je.source}}};var Be,Ue,We;he.parameters={...he.parameters,docs:{...(Be=he.parameters)==null?void 0:Be.docs,source:{originalSource:`{
  args: {
    disableSingleSelectBadge: true,
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(We=(Ue=he.parameters)==null?void 0:Ue.docs)==null?void 0:We.source}}};var He,Ke,Ge;be.parameters={...be.parameters,docs:{...(He=be.parameters)==null?void 0:He.docs,source:{originalSource:`{
  args: {
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(Ge=(Ke=be.parameters)==null?void 0:Ke.docs)==null?void 0:Ge.source}}};var Qe,Ze,Je;ge.parameters={...ge.parameters,docs:{...(Qe=ge.parameters)==null?void 0:Qe.docs,source:{originalSource:`{
  args: {
    className: 'min-w-[250px] max-w-[400px]',
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    multi: true,
    placeholder: 'Select...'
  }
}`,...(Je=(Ze=ge.parameters)==null?void 0:Ze.docs)==null?void 0:Je.source}}};var Xe,Ye,et;ve.parameters={...ve.parameters,docs:{...(Xe=ve.parameters)==null?void 0:Xe.docs,source:{originalSource:`{
  args: {
    className: 'min-w-[250px] max-w-[400px]',
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    multi: true,
    placeholder: 'Select...'
  }
}`,...(et=(Ye=ve.parameters)==null?void 0:Ye.docs)==null?void 0:et.source}}};const Ro=["SingleSelect","SingleSelectWithoutBadge","SingleSelectWithDefaultValue","MultiSelect","MultiSelectWithDefaultValues"];export{ge as MultiSelect,ve as MultiSelectWithDefaultValues,fe as SingleSelect,be as SingleSelectWithDefaultValue,he as SingleSelectWithoutBadge,Ro as __namedExportsOrder,wo as default};
