import{j as b}from"./jsx-runtime-DR9Q75dM.js";import{c as L}from"./index-lhGYx47h.js";import{a as ee,b as re,c as be}from"./FormLabelText-2tTELyhz.js";import{r as s,R as N}from"./index-DRjF_FHU.js";import{u as he}from"./lodash-CaEHFKMH.js";import{F as ge}from"./FormError-Cspxj7f0.js";import{B as Re}from"./Button-C8Er2sLW.js";import{a as T,D as W,I as K,y as J,l as te,X as V,R as ye,s as Ee,u as Oe,e as Te,b as S}from"./use-is-mounted-BwivAQE6.js";import{O as Z,M as q,N as z,I as xe}from"./focus-management-D-lBgQCa.js";import{c as Ce}from"./use-flags-uZipNKZX.js";import{b as Ne,M as oe}from"./description-CIrZ1Jfq.js";import{F as $e}from"./use-tree-walker-BP3EYLpg.js";import{c as ke,p as Fe}from"./hidden-tij90rwi.js";import{p as we,r as Q}from"./bugs-BqEXq7dn.js";function ne(e={},r=null,t=[]){for(let[n,o]of Object.entries(e))ie(t,ae(r,n),o);return t}function ae(e,r){return e?e+"["+r+"]":r}function ie(e,r,t){if(Array.isArray(t))for(let[n,o]of t.entries())ie(e,ae(r,n.toString()),o);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):ne(t,r,e)}function Pe(e){var r,t;let n=(r=e==null?void 0:e.form)!=null?r:e.closest("form");if(n){for(let o of n.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(t=n.requestSubmit)==null||t.call(n)}}function Se(e,r,t){let[n,o]=s.useState(t),i=e!==void 0,l=s.useRef(i),c=s.useRef(!1),u=s.useRef(!1);return i&&!l.current&&!c.current?(c.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!u.current&&(u.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:n,T(f=>(i||o(f),r==null?void 0:r(f)))]}let le=s.createContext(null);function se(){let e=s.useContext(le);if(e===null){let r=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,se),r}return e}function ue(){let[e,r]=s.useState([]);return[e.length>0?e.join(" "):void 0,s.useMemo(()=>function(t){let n=T(i=>(r(l=>[...l,i]),()=>r(l=>{let c=l.slice(),u=c.indexOf(i);return u!==-1&&c.splice(u,1),c}))),o=s.useMemo(()=>({register:n,slot:t.slot,name:t.name,props:t.props}),[n,t.slot,t.name,t.props]);return N.createElement(le.Provider,{value:o},t.children)},[r])]}let je="label";function Ae(e,r){let t=K(),{id:n=`headlessui-label-${t}`,passive:o=!1,...i}=e,l=se(),c=J(r);te(()=>l.register(n),[n,l.register]);let u={ref:c,...l.props,id:n};return o&&("onClick"in u&&(delete u.htmlFor,delete u.onClick),"onClick"in i&&delete i.onClick),V({ourProps:u,theirProps:i,slot:l.slot||{},defaultTag:je,name:l.name||"Label"})}let Ie=W(Ae),Ge=Object.assign(Ie,{});var Le=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Le||{});let De={0(e,r){let t=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:xe(t,n=>n.element.current)}},1(e,r){let t=e.options.slice(),n=e.options.findIndex(o=>o.id===r.id);return n===-1?e:(t.splice(n,1),{...e,options:t})}},X=s.createContext(null);X.displayName="RadioGroupDataContext";function ce(e){let r=s.useContext(X);if(r===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ce),t}return r}let Y=s.createContext(null);Y.displayName="RadioGroupActionsContext";function pe(e){let r=s.useContext(Y);if(r===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pe),t}return r}function Me(e,r){return Oe(r.type,De,e,r)}let _e="div";function qe(e,r){let t=K(),{id:n=`headlessui-radiogroup-${t}`,value:o,defaultValue:i,form:l,name:c,onChange:u,by:f=(a,v)=>a===v,disabled:$=!1,...j}=e,y=T(typeof f=="string"?(a,v)=>{let m=f;return(a==null?void 0:a[m])===(v==null?void 0:v[m])}:f),[g,w]=s.useReducer(Me,{options:[]}),d=g.options,[P,A]=ue(),[E,x]=oe(),I=s.useRef(null),B=J(I,r),[h,D]=Se(o,u,i),R=s.useMemo(()=>d.find(a=>!a.propsRef.current.disabled),[d]),k=s.useMemo(()=>d.some(a=>y(a.propsRef.current.value,h)),[d,h]),O=T(a=>{var v;if($||y(a,h))return!1;let m=(v=d.find(F=>y(F.propsRef.current.value,a)))==null?void 0:v.propsRef.current;return m!=null&&m.disabled?!1:(D==null||D(a),!0)});$e({container:I.current,accept(a){return a.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});let U=T(a=>{let v=I.current;if(!v)return;let m=Te(v),F=d.filter(p=>p.propsRef.current.disabled===!1).map(p=>p.element.current);switch(a.key){case S.Enter:Pe(a.currentTarget);break;case S.ArrowLeft:case S.ArrowUp:if(a.preventDefault(),a.stopPropagation(),Z(F,q.Previous|q.WrapAround)===z.Success){let p=d.find(G=>G.element.current===(m==null?void 0:m.activeElement));p&&O(p.propsRef.current.value)}break;case S.ArrowRight:case S.ArrowDown:if(a.preventDefault(),a.stopPropagation(),Z(F,q.Next|q.WrapAround)===z.Success){let p=d.find(G=>G.element.current===(m==null?void 0:m.activeElement));p&&O(p.propsRef.current.value)}break;case S.Space:{a.preventDefault(),a.stopPropagation();let p=d.find(G=>G.element.current===(m==null?void 0:m.activeElement));p&&O(p.propsRef.current.value)}break}}),C=T(a=>(w({type:0,...a}),()=>w({type:1,id:a.id}))),M=s.useMemo(()=>({value:h,firstOption:R,containsCheckedOption:k,disabled:$,compare:y,...g}),[h,R,k,$,y,g]),de=s.useMemo(()=>({registerOption:C,change:O}),[C,O]),me={ref:B,id:n,role:"radiogroup","aria-labelledby":P,"aria-describedby":E,onKeyDown:U},fe=s.useMemo(()=>({value:h}),[h]),_=s.useRef(null),ve=we();return s.useEffect(()=>{_.current&&i!==void 0&&ve.addEventListener(_.current,"reset",()=>{O(i)})},[_,O]),N.createElement(x,{name:"RadioGroup.Description"},N.createElement(A,{name:"RadioGroup.Label"},N.createElement(Y.Provider,{value:de},N.createElement(X.Provider,{value:M},c!=null&&h!=null&&ne({[c]:h}).map(([a,v],m)=>N.createElement(ke,{features:Fe.Hidden,ref:m===0?F=>{var p;_.current=(p=F==null?void 0:F.closest("form"))!=null?p:null}:void 0,...ye({key:a,as:"input",type:"radio",checked:v!=null,hidden:!0,readOnly:!0,form:l,name:a,value:v})})),V({ourProps:me,theirProps:j,slot:fe,defaultTag:_e,name:"RadioGroup"})))))}var Be=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Be||{});let Ue="div";function He(e,r){var t;let n=K(),{id:o=`headlessui-radiogroup-option-${n}`,value:i,disabled:l=!1,...c}=e,u=s.useRef(null),f=J(u,r),[$,j]=ue(),[y,g]=oe(),{addFlag:w,removeFlag:d,hasFlag:P}=Ce(1),A=Ee({value:i,disabled:l}),E=ce("RadioGroup.Option"),x=pe("RadioGroup.Option");te(()=>x.registerOption({id:o,element:u,propsRef:A}),[o,x,u,e]);let I=T(C=>{var M;if(Q(C.currentTarget))return C.preventDefault();x.change(i)&&(w(2),(M=u.current)==null||M.focus())}),B=T(C=>{if(Q(C.currentTarget))return C.preventDefault();w(2)}),h=T(()=>d(2)),D=((t=E.firstOption)==null?void 0:t.id)===o,R=E.disabled||l,k=E.compare(E.value,i),O={ref:f,id:o,role:"radio","aria-checked":k?"true":"false","aria-labelledby":$,"aria-describedby":y,"aria-disabled":R?!0:void 0,tabIndex:R?-1:k||!E.containsCheckedOption&&D?0:-1,onClick:R?void 0:I,onFocus:R?void 0:B,onBlur:R?void 0:h},U=s.useMemo(()=>({checked:k,disabled:R,active:P(2)}),[k,R,P]);return N.createElement(g,{name:"RadioGroup.Description"},N.createElement(j,{name:"RadioGroup.Label"},V({ourProps:O,theirProps:c,slot:U,defaultTag:Ue,name:"RadioGroup.Option"})))}let We=W(qe),Ke=W(He),H=Object.assign(We,{Option:Ke,Label:Ge,Description:Ne});const Je=({className:e,color:r,controllerProps:t,inputClassName:n,isRequired:o,labelText:i,name:l,options:c,showDirty:u,size:f,...$})=>{const{field:{value:j,...y},fieldState:{error:g}}=ee({name:l,...t}),d=he(l,u)??r??void 0;return b.jsxs("div",{className:L("form-control",e),children:[i!==void 0?b.jsx("div",{className:"label",children:b.jsx(re,{isRequired:o,children:i})}):null,c.map(({className:P,id:A,label:E,value:x})=>b.jsxs("label",{className:L("label cursor-pointer",P),children:[b.jsx("span",{className:"label-text",children:E}),b.jsx("input",{...y,...$,checked:j===x,className:L("radio",d&&`radio-${d}`,f&&`radio-${f}`,n),type:"radio",value:x})]},A)),(g==null?void 0:g.message)!==void 0?b.jsx(ge,{children:g.message}):null]})};Je.__docgenInfo={description:"",methods:[],displayName:"FormRadio",props:{color:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof RADIO_COLORS)[number]"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"RadioOption"}],raw:"RadioOption[]"},description:""},size:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof RADIO_SIZES)[number]"},description:""}},composes:["Omit"]};const Ve=({children:e,className:r,controllerProps:t,isRequired:n,labelText:o,name:i,...l})=>{const{setValue:c}=be(),{field:{value:u}}=ee({name:i,...t});return b.jsxs(H,{as:"label",className:L("form-control",r),name:i,onChange:f=>{c(i,f)},value:u,...l,children:[o!==void 0?b.jsx("div",{className:"label",children:b.jsx(H.Label,{as:re,isRequired:n,children:o})}):null,b.jsx("div",{className:"join",children:e})]})};Ve.__docgenInfo={description:"",methods:[],displayName:"FormRadioGroup",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}},composes:["Omit"]};const Xe=({activeColor:e,children:r,className:t,disabled:n,inactiveColor:o,value:i,...l})=>b.jsx(H.Option,{as:s.Fragment,disabled:n,value:i,children:({checked:c,disabled:u})=>b.jsx(Re,{active:c,className:L("join-item",t),color:c?e??"primary":o,disabled:u,...l,children:r})});Xe.__docgenInfo={description:"",methods:[],displayName:"FormRadioGroupOption",props:{activeColor:{required:!1,tsType:{name:"ButtonProps['color']",raw:"ButtonProps['color']"},description:""},inactiveColor:{required:!1,tsType:{name:"ButtonProps['color']",raw:"ButtonProps['color']"},description:""},value:{required:!0,tsType:{name:"string"},description:""}},composes:["Omit"]};export{Je as F,Se as T,Ve as a,Xe as b,ne as e};
