import{j as v}from"./jsx-runtime-DR9Q75dM.js";import{r as i,R as c}from"./index-DRjF_FHU.js";import{B as z}from"./Button-C8Er2sLW.js";import{c as ee}from"./index-lhGYx47h.js";import{c as Oe,n as Se,K as M,y as j,o as C,u as U,p as Be,L as O,e as fe,O as te}from"./keyboard-CUk6zo9K.js";import{E as ge}from"./use-event-listener-h_Uk4X8M.js";import{x as V,n as he,c as Le,t as Ne,R as je,f as Ae,m as He,l as ne,r as qe,X as We}from"./portal-ddnK3kf1.js";import{y as _e}from"./use-inert-others-zdk8ktqN.js";import{u as Ye,a as S,b as ze,R as Ue,O as re}from"./use-tab-direction-c-FT5Us1.js";import{l as ve,u as Ee,i as B,s as Ve}from"./use-server-handoff-complete-BT_ig_8b.js";import{C as Ge}from"./close-provider-CfqLQYnm.js";import{H as Ke,w as Ze}from"./description-DnSH_hHI.js";import{f as we}from"./use-is-mounted-DBJHk9C2.js";import{m as G,r as _}from"./active-element-history-Cj0Rrgiq.js";import{f as oe,s as ae}from"./hidden-ZETsWED3.js";import{P as x,F as b,I as T,T as le}from"./focus-management-BR9cTPnt.js";import{z as Qe,F as Te}from"./transition-DrHXcrLQ.js";import"./index-rX-Bn4lm.js";function Xe(e,t=typeof document<"u"?document.defaultView:null,n){let r=V(e,"escape");ge(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===Oe.Escape&&n(o))})}function Je(){var e;let[t]=i.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=i.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Se(()=>{if(!t)return;function o(l){r(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function Fe(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let et="div";var k=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(k||{});function tt(e,t){let n=i.useRef(null),r=j(n,t),{initialFocus:o,initialFocusFallback:l,containers:s,features:a=15,...d}=e;ve()||(a=0);let u=he(n);at(a,{ownerDocument:u});let m=lt(a,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:l});it(a,{ownerDocument:u,container:n,containers:s,previousActiveElement:m});let P=Ye(),y=C(f=>{let F=n.current;F&&(g=>g())(()=>{U(P.current,{[S.Forwards]:()=>{x(F,b.First,{skipElements:[f.relatedTarget,l]})},[S.Backwards]:()=>{x(F,b.Last,{skipElements:[f.relatedTarget,l]})}})})}),E=V(!!(a&2),"focus-trap#tab-lock"),h=Be(),$=i.useRef(!1),D={ref:r,onKeyDown(f){f.key=="Tab"&&($.current=!0,h.requestAnimationFrame(()=>{$.current=!1}))},onBlur(f){if(!(a&4))return;let F=Fe(s);n.current instanceof HTMLElement&&F.add(n.current);let g=f.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(be(F,g)||($.current?x(n.current,U(P.current,{[S.Forwards]:()=>b.Next,[S.Backwards]:()=>b.Previous})|b.WrapAround,{relativeTo:f.target}):f.target instanceof HTMLElement&&T(f.target)))}},w=O();return c.createElement(c.Fragment,null,E&&c.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:ae.Focusable}),w({ourProps:D,theirProps:d,defaultTag:et,name:"FocusTrap"}),E&&c.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:ae.Focusable}))}let nt=M(tt),rt=Object.assign(nt,{features:k});function ot(e=!0){let t=i.useRef(_.slice());return G(([n],[r])=>{r===!0&&n===!1&&fe(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=_.slice())},[e,_,t]),C(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function at(e,{ownerDocument:t}){let n=!!(e&8),r=ot(n);G(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&T(r())},[n]),Le(()=>{n&&T(r())})}function lt(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let l=i.useRef(null),s=V(!!(e&1),"focus-trap#initial-focus"),a=we();return G(()=>{if(e===0)return;if(!s){o!=null&&o.current&&T(o.current);return}let d=n.current;d&&fe(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){l.current=u;return}}else if(d.contains(u)){l.current=u;return}if(r!=null&&r.current)T(r.current);else{if(e&16){if(x(d,b.First|b.AutoFocus)!==le.Error)return}else if(x(d,b.First)!==le.Error)return;if(o!=null&&o.current&&(T(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,s,e]),l}function it(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let l=we(),s=!!(e&4);ge(t==null?void 0:t.defaultView,"focus",a=>{if(!s||!l.current)return;let d=Fe(r);n.current instanceof HTMLElement&&d.add(n.current);let u=o.current;if(!u)return;let m=a.target;m&&m instanceof HTMLElement?be(d,m)?(o.current=m,T(m)):(a.preventDefault(),a.stopPropagation(),T(u)):T(o.current)},!0)}function be(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var ut=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ut||{}),st=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(st||{});let ct={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},K=i.createContext(null);K.displayName="DialogContext";function A(e){let t=i.useContext(K);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,A),n}return t}function dt(e,t){return U(t.type,ct,e,t)}let ie=M(function(e,t){let n=i.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:l,initialFocus:s,role:a="dialog",autoFocus:d=!0,__demoMode:u=!1,unmount:m=!1,...P}=e,y=i.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(y.current||(y.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let E=Ee();o===void 0&&E!==null&&(o=(E&B.Open)===B.Open);let h=i.useRef(null),$=j(h,t),D=he(h),w=o?0:1,[f,F]=i.useReducer(dt,{titleId:null,descriptionId:null,panelRef:i.createRef()}),g=C(()=>l(!1)),Z=C(p=>F({type:0,id:p})),R=ve()?w===0:!1,[$e,De]=Ne(),ke={get current(){var p;return(p=f.panelRef.current)!=null?p:h.current}},q=ze(),{resolveContainers:W}=Ue({mainTreeNode:q,portals:$e,defaultContainers:[ke]}),Q=E!==null?(E&B.Closing)===B.Closing:!1;_e(u||Q?!1:R,{allowed:C(()=>{var p,J;return[(J=(p=h.current)==null?void 0:p.closest("[data-headlessui-portal]"))!=null?J:null]}),disallowed:C(()=>{var p;return[(p=q==null?void 0:q.closest("body > *:not(#headlessui-portal-root)"))!=null?p:null]})}),je(R,W,p=>{p.preventDefault(),g()}),Xe(R,D==null?void 0:D.defaultView,p=>{p.preventDefault(),p.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),g()}),Ae(u||Q?!1:R,D,W),He(R,h,g);let[Ce,Pe]=Ze(),Re=i.useMemo(()=>[{dialogState:w,close:g,setTitleId:Z,unmount:m},f],[w,f,g,Z,m]),X=i.useMemo(()=>({open:w===0}),[w]),Me={ref:$,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:w===0?!0:void 0,"aria-labelledby":f.titleId,"aria-describedby":Ce,unmount:m},Ie=!Je(),I=k.None;R&&!u&&(I|=k.RestoreFocus,I|=k.TabLock,d&&(I|=k.AutoFocus),Ie&&(I|=k.InitialFocus));let xe=O();return c.createElement(Ve,null,c.createElement(ne,{force:!0},c.createElement(qe,null,c.createElement(K.Provider,{value:Re},c.createElement(We,{target:h},c.createElement(ne,{force:!1},c.createElement(Pe,{slot:X},c.createElement(De,null,c.createElement(rt,{initialFocus:s,initialFocusFallback:h,containers:W,features:I},c.createElement(Ge,{value:g},xe({ourProps:Me,theirProps:P,slot:X,defaultTag:mt,features:pt,visible:w===0,name:"Dialog"})))))))))))}),mt="div",pt=te.RenderStrategy|te.Static;function ft(e,t){let{transition:n=!1,open:r,...o}=e,l=Ee(),s=e.hasOwnProperty("open")||l!==null,a=e.hasOwnProperty("onClose");if(!s&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?c.createElement(re,null,c.createElement(Qe,{show:r,transition:n,unmount:o.unmount},c.createElement(ie,{ref:t,...o}))):c.createElement(re,null,c.createElement(ie,{ref:t,open:r,...o}))}let gt="div";function ht(e,t){let n=i.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...l}=e,[{dialogState:s,unmount:a},d]=A("Dialog.Panel"),u=j(t,d.panelRef),m=i.useMemo(()=>({open:s===0}),[s]),P=C(D=>{D.stopPropagation()}),y={ref:u,id:r,onClick:P},E=o?Te:i.Fragment,h=o?{unmount:a}:{},$=O();return c.createElement(E,{...h},$({ourProps:y,theirProps:l,slot:m,defaultTag:gt,name:"Dialog.Panel"}))}let vt="div";function Et(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:l}]=A("Dialog.Backdrop"),s=i.useMemo(()=>({open:o===0}),[o]),a={ref:t,"aria-hidden":!0},d=n?Te:i.Fragment,u=n?{unmount:l}:{},m=O();return c.createElement(d,{...u},m({ourProps:a,theirProps:r,slot:s,defaultTag:vt,name:"Dialog.Backdrop"}))}let wt="h2";function Tt(e,t){let n=i.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:l,setTitleId:s}]=A("Dialog.Title"),a=j(t);i.useEffect(()=>(s(r),()=>s(null)),[r,s]);let d=i.useMemo(()=>({open:l===0}),[l]),u={ref:a,id:r};return O()({ourProps:u,theirProps:o,slot:d,defaultTag:wt,name:"Dialog.Title"})}let Ft=M(ft),bt=M(ht);M(Et);let yt=M(Tt),Y=Object.assign(Ft,{Panel:bt,Title:yt,Description:Ke});const H=i.forwardRef(({actionButtons:e,children:t,className:n,onClose:r,open:o,responsivePosition:l,title:s},a)=>v.jsx(Y,{as:"dialog",className:ee("modal",o&&"modal-open",l&&`modal-${l}`),onClose:r,open:o,static:!0,children:v.jsxs(Y.Panel,{as:"div",className:ee("modal-box",n),ref:a,children:[v.jsx(z,{"aria-label":"Close Modal",color:"ghost",size:"sm",shape:"circle",className:"absolute right-2 top-2",onClick:r,children:"✕"}),v.jsx(Y.Title,{as:"h3",className:"text-lg font-bold",children:s}),t,e.length>0?v.jsx("div",{className:"modal-action",children:e.map((d,u)=>v.jsx(z,{...d},u))}):null]})}));H.displayName="Modal";H.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{actionButtons:{required:!0,tsType:{name:"Array",elements:[{name:"ButtonProps"}],raw:"ButtonProps[]"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},responsivePosition:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof MODAL_POSITIONS)[number]"},description:""},title:{required:!1,tsType:{name:"string"},description:""}},composes:["HTMLProps"]};const Wt={title:"Modal",component:H},ye={render:e=>{const[t,n]=i.useState(!1);return v.jsxs(v.Fragment,{children:[v.jsx(z,{onClick:()=>n(!0),children:"Open"}),v.jsx(H,{...e,onClose:()=>n(!1),open:t})]})}},L={...ye,args:{actionButtons:[],children:"Modal Content",title:"Title"}},N={...ye,args:{actionButtons:[{color:"error",children:"Cancel"},{color:"success",children:"Okay"}],children:"Modal Content",title:"Title"}};var ue,se,ce;L.parameters={...L.parameters,docs:{...(ue=L.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  ...WithButtonTemplate,
  args: {
    actionButtons: [],
    children: 'Modal Content',
    title: 'Title'
  }
}`,...(ce=(se=L.parameters)==null?void 0:se.docs)==null?void 0:ce.source}}};var de,me,pe;N.parameters={...N.parameters,docs:{...(de=N.parameters)==null?void 0:de.docs,source:{originalSource:`{
  ...WithButtonTemplate,
  args: {
    actionButtons: [{
      color: 'error',
      children: 'Cancel'
    }, {
      color: 'success',
      children: 'Okay'
    }],
    children: 'Modal Content',
    title: 'Title'
  }
}`,...(pe=(me=N.parameters)==null?void 0:me.docs)==null?void 0:pe.source}}};const _t=["Default","WithActionButtons"];export{L as Default,N as WithActionButtons,_t as __namedExportsOrder,Wt as default};
