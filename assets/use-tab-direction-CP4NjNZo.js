import{r as i,R as c}from"./index-DRjF_FHU.js";import{f as h,s as p}from"./hidden-VT-llRfc.js";import{b as d,u as v}from"./keyboard-CkwPyo54.js";import{n as y,s as b}from"./portal-klmoE2MD.js";function x({defaultContainers:t=[],portals:n,mainTreeNode:l}={}){let s=y(l),a=d(()=>{var o,u;let r=[];for(let e of t)e!==null&&(e instanceof HTMLElement?r.push(e):"current"in e&&e.current instanceof HTMLElement&&r.push(e.current));if(n!=null&&n.current)for(let e of n.current)r.push(e);for(let e of(o=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e.id!=="headlessui-portal-root"&&(l&&(e.contains(l)||e.contains((u=l==null?void 0:l.getRootNode())==null?void 0:u.host))||r.some(m=>e.contains(m))||r.push(e));return r});return{resolveContainers:a,contains:d(o=>a().some(u=>u.contains(o)))}}let f=i.createContext(null);function C({children:t,node:n}){let[l,s]=i.useState(null),a=E(n??l);return c.createElement(f.Provider,{value:a},t,a===null&&c.createElement(h,{features:p.Hidden,ref:o=>{var u,r;if(o){for(let e of(r=(u=v(o))==null?void 0:u.querySelectorAll("html > *, body > *"))!=null?r:[])if(e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e!=null&&e.contains(o)){s(e);break}}}}))}function E(t=null){var n;return(n=i.useContext(f))!=null?n:t}var T=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(T||{});function L(){let t=i.useRef(0);return b(!0,"keydown",n=>{n.key==="Tab"&&(t.current=n.shiftKey?1:0)},!0),t}export{C as O,x as R,T as a,E as b,L as u};
