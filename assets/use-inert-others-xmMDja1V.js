import{n as b,o as g,u as w}from"./keyboard-CkwPyo54.js";import{x as A}from"./portal-klmoE2MD.js";let a=new Map,d=new Map;function p(e){var t;let n=(t=d.get(e))!=null?t:0;return d.set(e,n+1),n!==0?()=>c(e):(a.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>c(e))}function c(e){var t;let n=(t=d.get(e))!=null?t:1;if(n===1?d.delete(e):d.set(e,n-1),n!==1)return;let r=a.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,a.delete(e))}function E(e,{allowed:t,disallowed:n}={}){let r=A(e,"inert-others");b(()=>{var u,f;if(!r)return;let o=g();for(let i of(u=n==null?void 0:n())!=null?u:[])i&&o.add(p(i));let s=(f=t==null?void 0:t())!=null?f:[];for(let i of s){if(!i)continue;let h=w(i);if(!h)continue;let l=i.parentElement;for(;l&&l!==h.body;){for(let m of l.children)s.some(v=>m.contains(v))||o.add(p(m));l=l.parentElement}}return o.dispose},[r,t,n])}export{E as y};
