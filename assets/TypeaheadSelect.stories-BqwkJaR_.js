import{j as N}from"./jsx-runtime-DiklIkkE.js";import{a as bt,c as gt,b as vt,u as xt,F as St}from"./FormLabelText-BYRBbg7S.js";import{$ as ot,a as it}from"./useFocusRing-CeEfTI_f.js";import{r as m,R as V}from"./index-DRjF_FHU.js";import{r as oe}from"./index-Bx0Ph3cE.js";import{w as It,e as yt}from"./use-resolve-button-type-BunvJ_cM.js";import{l as Et,T as Tt,u as Ot,j as wt}from"./FormRadioGroupOption-B7rU_Jup.js";import{b as y,K as ue,y as xe,n as te,_ as we,L as de,s as Ct,o as Pe,O as $e,a as se,c as W,p as Rt}from"./keyboard-CkwPyo54.js";import{x as Mt,R as Dt,b as Pt,d as _e,M as $t,y as _t}from"./floating-DbckstqE.js";import{y as Ft}from"./use-inert-others-xmMDja1V.js";import{n as st,m as zt,f as kt,r as Lt,R as At,b as Nt}from"./portal-klmoE2MD.js";import{E as qt}from"./use-event-listener-B6ZzwbKe.js";import{u as Vt,c as _,f as Fe}from"./calculate-active-index-u79R9Ahj.js";import{u as jt,x as Bt,i as ve,R as Wt,c as Ut}from"./open-closed-ZYQZnB1s.js";import{F as Ht}from"./use-tree-walker-ClltwzGM.js";import{m as ze,r as ke}from"./active-element-history-B8Y5xch5.js";import{a as Kt,U as Gt}from"./description-BiWv9uhY.js";import{l as Le,f as Qt,d as Zt,g as Jt,u as Xt}from"./useSelectFormSync-qLzJcMC6.js";import{Q as lt,I as Ce,K as Yt,u as en}from"./label-BHy4_Co_.js";import{r as tn}from"./bugs-DpEN4NTH.js";import{_ as nn}from"./focus-management-BpNHtozA.js";import{c as ne}from"./index-lhGYx47h.js";import{u as on}from"./lodash-CjHNWSW5.js";import{B as sn}from"./Badge-Cl8fL48M.js";import"./FormCheckbox-CmXjOFpU.js";import"./FormControl-BdTh8q4i.js";import{F as ln}from"./FormError-DCh6zGQK.js";import"./FormFileInput-Pog9VxRe.js";import"./FormRangeSlider-Danb-6H0.js";import"./FormTextarea-DF7-D8_R.js";import"./FormToggleSwitch-BqtyrF8U.js";import{a as rn,M as Ae}from"./MenuItem-BBhh-GbJ.js";import"./Button-D0Yf2K26.js";import"./hidden-VT-llRfc.js";import"./Icons-Cofxgy3z.js";function ie(e,l,t){let n=t.initialDeps??[],o;function r(){var s,i,a,d;let u;t.key&&((s=t.debug)!=null&&s.call(t))&&(u=Date.now());const p=e();if(!(p.length!==n.length||p.some((E,x)=>n[x]!==E)))return o;n=p;let c;if(t.key&&((i=t.debug)!=null&&i.call(t))&&(c=Date.now()),o=l(...p),t.key&&((a=t.debug)!=null&&a.call(t))){const E=Math.round((Date.now()-u)*100)/100,x=Math.round((Date.now()-c)*100)/100,b=x/16,P=(D,O)=>{for(D=String(D);D.length<O;)D=" "+D;return D};console.info(`%c⏱ ${P(x,5)} /${P(E,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(d=t==null?void 0:t.onChange)==null||d.call(t,o),o}return r.updateDeps=s=>{n=s},r}function Ee(e,l){if(e===void 0)throw new Error("Unexpected undefined");return e}const an=(e,l)=>Math.abs(e-l)<1,un=(e,l,t)=>{let n;return function(...o){e.clearTimeout(n),n=e.setTimeout(()=>l.apply(this,o),t)}},dn=e=>e,cn=e=>{const l=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=l;o<=t;o++)n.push(o);return n},mn=(e,l)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;const o=s=>{const{width:i,height:a}=s;l({width:Math.round(i),height:Math.round(a)})};if(o(t.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const r=new n.ResizeObserver(s=>{const i=()=>{const a=s[0];if(a!=null&&a.borderBoxSize){const d=a.borderBoxSize[0];if(d){o({width:d.inlineSize,height:d.blockSize});return}}o(t.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()});return r.observe(t,{box:"border-box"}),()=>{r.unobserve(t)}},Ne={passive:!0},qe=typeof window>"u"?!0:"onscrollend"in window,pn=(e,l)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;let o=0;const r=e.options.useScrollendEvent&&qe?()=>{}:un(n,()=>{l(o,!1)},e.options.isScrollingResetDelay),s=u=>()=>{const{horizontal:p,isRtl:S}=e.options;o=p?t.scrollLeft*(S&&-1||1):t.scrollTop,r(),l(o,u)},i=s(!0),a=s(!1);a(),t.addEventListener("scroll",i,Ne);const d=e.options.useScrollendEvent&&qe;return d&&t.addEventListener("scrollend",a,Ne),()=>{t.removeEventListener("scroll",i),d&&t.removeEventListener("scrollend",a)}},fn=(e,l,t)=>{if(l!=null&&l.borderBoxSize){const n=l.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},hn=(e,{adjustments:l=0,behavior:t},n)=>{var o,r;const s=e+l;(r=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||r.call(o,{[n.options.horizontal?"left":"top"]:s,behavior:t})};class bn{constructor(l){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(o=>{o.forEach(r=>{const s=()=>{this._measureElement(r.target,r)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var o;(o=n())==null||o.disconnect(),t=null},observe:o=>{var r;return(r=n())==null?void 0:r.observe(o,{box:"border-box"})},unobserve:o=>{var r;return(r=n())==null?void 0:r.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:dn,rangeExtractor:cn,onChange:()=>{},measureElement:fn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,t)},this.maybeNotify=ie(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,r)=>{this.scrollAdjustments=0,this.scrollDirection=r?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=r,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,n)=>{const o=new Map,r=new Map;for(let s=n-1;s>=0;s--){const i=t[s];if(o.has(i.lane))continue;const a=r.get(i.lane);if(a==null||i.end>a.end?r.set(i.lane,i):i.end<a.end&&o.set(i.lane,!0),o.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((s,i)=>s.end===i.end?s.index-i.index:s.end-i.end)[0]:void 0},this.getMeasurementOptions=ie(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,n,o,r,s)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:r,enabled:s}),{key:!1}),this.getMeasurements=ie(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:r,enabled:s},i)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,a);for(let u=a;u<t;u++){const p=r(u),S=this.options.lanes===1?d[u-1]:this.getFurthestMeasurement(d,u),c=S?S.end+this.options.gap:n+o,E=i.get(p),x=typeof E=="number"?E:this.options.estimateSize(u),b=c+x,P=S?S.lane:u%this.options.lanes;d[u]={index:u,start:c,size:x,end:b,key:p,lane:P}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ie(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,n,o,r)=>this.range=t.length>0&&n>0?gn({measurements:t,outerSize:n,scrollOffset:o,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ie(()=>{let t=null,n=null;const o=this.calculateRange();return o&&(t=o.startIndex,n=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,n]},(t,n,o,r,s)=>r===null||s===null?[]:t({startIndex:r,endIndex:s,overscan:n,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.indexFromElement(t),r=this.measurementsCache[o];if(!r)return;const s=r.key,i=this.elementsCache.get(s);i!==t&&(i&&this.observer.unobserve(i),this.observer.observe(t),this.elementsCache.set(s,t)),t.isConnected&&this.resizeItem(o,this.options.measureElement(t,n,this))},this.resizeItem=(t,n)=>{const o=this.measurementsCache[t];if(!o)return;const r=this.itemSizeCache.get(o.key)??o.size,s=n-r;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,s,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,n)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((n,o)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(o))});return}this._measureElement(t,void 0)},this.getVirtualItems=ie(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let r=0,s=t.length;r<s;r++){const i=t[r],a=n[i];o.push(a)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();if(n.length!==0)return Ee(n[rt(0,n.length-1,o=>Ee(n[o]).start,t)])},this.getOffsetForAlignment=(t,n,o=0)=>{const r=this.getSize(),s=this.getScrollOffset();n==="auto"&&(n=t>=s+r?"end":"start"),n==="center"?t+=(o-r)/2:n==="end"&&(t-=r);const i=this.options.horizontal?"scrollWidth":"scrollHeight",d=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-r;return Math.max(Math.min(d,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=this.measurementsCache[t];if(!o)return;const r=this.getSize(),s=this.getScrollOffset();if(n==="auto")if(o.end>=s+r-this.options.scrollPaddingEnd)n="end";else if(o.start<=s+this.options.scrollPaddingStart)n="start";else return[s,n];const i=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,n,o.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(t,n);if(!r)return;const[s,i]=r;this._scrollToOffset(s,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[d]=Ee(this.getOffsetForIndex(t,i));an(d,this.getScrollOffset())||this.scrollToIndex(t,{align:i,behavior:o})}else this.scrollToIndex(t,{align:i,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;if(n.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((t=n[n.length-1])==null?void 0:t.end)??0;else{const r=Array(this.options.lanes).fill(null);let s=n.length-1;for(;s>0&&r.some(i=>i===null);){const i=n[s];r[i.lane]===null&&(r[i.lane]=i.end),s--}o=Math.max(...r.filter(i=>i!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(l)}}const rt=(e,l,t,n)=>{for(;e<=l;){const o=(e+l)/2|0,r=t(o);if(r<n)e=o+1;else if(r>n)l=o-1;else return o}return e>0?e-1:0};function gn({measurements:e,outerSize:l,scrollOffset:t,lanes:n}){const o=e.length-1;let s=rt(0,o,a=>e[a].start,t),i=s;if(n===1)for(;i<o&&e[i].end<t+l;)i++;else if(n>1){const a=Array(n).fill(0);for(;i<o&&a.some(u=>u<t+l);){const u=e[i];a[u.lane]=u.end,i++}const d=Array(n).fill(t+l);for(;s>0&&d.some(u=>u>=t);){const u=e[s];d[u.lane]=u.start,s--}s=Math.max(0,s-s%n),i=Math.min(o,i+(n-1-i%n))}return{startIndex:s,endIndex:i}}const Ve=typeof document<"u"?m.useLayoutEffect:m.useEffect;function vn(e){const l=m.useReducer(()=>({}),{})[1],t={...e,onChange:(o,r)=>{var s;r?oe.flushSync(l):l(),(s=e.onChange)==null||s.call(e,o,r)}},[n]=m.useState(()=>new bn(t));return n.setOptions(t),Ve(()=>n._didMount(),[]),Ve(()=>n._willUpdate()),n}function xn(e){return vn({observeElementRect:mn,observeElementOffset:pn,scrollToFn:hn,...e})}function at(e){let l=m.useRef({value:"",selectionStart:null,selectionEnd:null});return qt(e,"blur",t=>{let n=t.target;n instanceof HTMLInputElement&&(l.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),y(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==l.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:t,selectionEnd:n}=l.current;t!==null&&n!==null&&e.setSelectionRange(t,n)}l.current={value:"",selectionStart:null,selectionEnd:null}}})}var Re=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Re||{}),Sn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Sn||{}),In=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(In||{}),yn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(yn||{}),En=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(En||{});function Te(e,l=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=l(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((s,i)=>s.dataRef.current.order-i.dataRef.current.order):nn(n,s=>s.dataRef.current.domRef.current),r=t?o.indexOf(t):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let Tn={1(e){var l;return(l=e.dataRef.current)!=null&&l.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var l,t;if((l=e.dataRef.current)!=null&&l.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,l){return e.isTyping===l.isTyping?e:{...e,isTyping:l.isTyping}},2(e,l){var t,n,o,r;if((t=e.dataRef.current)!=null&&t.disabled||e.optionsElement&&!((n=e.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:d,disabled:u}=e.virtual,p=l.focus===_.Specific?l.idx:Fe(l,{resolveItems:()=>d,resolveActiveIndex:()=>{var c,E;return(E=(c=e.activeOptionIndex)!=null?c:d.findIndex(x=>!u(x)))!=null?E:null},resolveDisabled:u,resolveId(){throw new Error("Function not implemented.")}}),S=(o=l.trigger)!=null?o:2;return e.activeOptionIndex===p&&e.activationTrigger===S?e:{...e,activeOptionIndex:p,activationTrigger:S,isTyping:!1,__demoMode:!1}}let s=Te(e);if(s.activeOptionIndex===null){let d=s.options.findIndex(u=>!u.dataRef.current.disabled);d!==-1&&(s.activeOptionIndex=d)}let i=l.focus===_.Specific?l.idx:Fe(l,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),a=(r=l.trigger)!=null?r:2;return e.activeOptionIndex===i&&e.activationTrigger===a?e:{...e,...s,isTyping:!1,activeOptionIndex:i,activationTrigger:a,__demoMode:!1}},4:(e,l)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,l.payload]};let r=l.payload,s=Te(e,a=>(a.push(r),a));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(l.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(r));let i={...e,...s,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},5:(e,l)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==l.id)};let n=Te(e,o=>{let r=o.findIndex(s=>s.id===l.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:2}},6:(e,l)=>e.activationTrigger===l.trigger?e:{...e,activationTrigger:l.trigger},7:(e,l)=>{var t,n;if(e.virtual===null)return{...e,virtual:{options:l.options,disabled:(t=l.disabled)!=null?t:()=>!1}};if(e.virtual.options===l.options&&e.virtual.disabled===l.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let r=l.options.indexOf(e.virtual.options[e.activeOptionIndex]);r!==-1?o=r:o=null}return{...e,activeOptionIndex:o,virtual:{options:l.options,disabled:(n=l.disabled)!=null?n:()=>!1}}},8:(e,l)=>e.inputElement===l.element?e:{...e,inputElement:l.element},9:(e,l)=>e.buttonElement===l.element?e:{...e,buttonElement:l.element},10:(e,l)=>e.optionsElement===l.element?e:{...e,optionsElement:l.element}},Me=m.createContext(null);Me.displayName="ComboboxActionsContext";function ce(e){let l=m.useContext(Me);if(l===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ce),t}return l}let ut=m.createContext(null);function On(e){let l=le("VirtualProvider"),{options:t}=l.virtual,[n,o]=m.useMemo(()=>{let d=l.optionsElement;if(!d)return[0,0];let u=window.getComputedStyle(d);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[l.optionsElement]),r=xn({enabled:t.length!==0,scrollPaddingStart:n,scrollPaddingEnd:o,count:t.length,estimateSize(){return 40},getScrollElement(){return l.optionsElement},overscan:12}),[s,i]=m.useState(0);te(()=>{i(d=>d+1)},[t]);let a=r.getVirtualItems();return a.length===0?null:V.createElement(ut.Provider,{value:r},V.createElement("div",{style:{position:"relative",width:"100%",height:`${r.getTotalSize()}px`},ref:d=>{d&&l.activationTrigger!==0&&l.activeOptionIndex!==null&&t.length>l.activeOptionIndex&&r.scrollToIndex(l.activeOptionIndex)}},a.map(d=>{var u;return V.createElement(m.Fragment,{key:d.key},V.cloneElement((u=e.children)==null?void 0:u.call(e,{...e.slot,option:t[d.index]}),{key:`${s}-${d.key}`,"data-index":d.index,"aria-setsize":t.length,"aria-posinset":d.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${d.start}px)`,overflowAnchor:"none"}}))})))}let ae=m.createContext(null);ae.displayName="ComboboxDataContext";function le(e){let l=m.useContext(ae);if(l===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,le),t}return l}function wn(e,l){return se(l.type,Tn,e,l)}let Cn=m.Fragment;function Rn(e,l){var t,n;let o=Kt(),{value:r,defaultValue:s,onChange:i,form:a,name:d,by:u,disabled:p=o||!1,onClose:S,__demoMode:c=!1,multiple:E=!1,immediate:x=!1,virtual:b=null,nullable:P,...D}=e,O=Et(s),[w=E?[]:void 0,F]=Tt(r,i,O),[T,h]=m.useReducer(wn,{dataRef:m.createRef(),comboboxState:c?0:1,isTyping:!1,options:[],virtual:b?{options:b.options,disabled:(t=b.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:c}),$=m.useRef(!1),K=m.useRef({static:!1,hold:!1}),z=Ot(u),j=y(g=>b?u===null?b.options.indexOf(g):b.options.findIndex(M=>z(M,g)):T.options.findIndex(M=>z(M.dataRef.current.value,g))),G=m.useCallback(g=>se(v.mode,{1:()=>w.some(M=>z(M,g)),0:()=>z(w,g)}),[w]),Q=y(g=>T.activeOptionIndex===j(g)),v=m.useMemo(()=>({...T,immediate:x,optionsPropsRef:K,value:w,defaultValue:O,disabled:p,mode:E?1:0,virtual:b?T.virtual:null,get activeOptionIndex(){if($.current&&T.activeOptionIndex===null&&(b?b.options.length>0:T.options.length>0)){if(b){let M=b.options.findIndex(X=>{var me,De;return!((De=(me=b.disabled)==null?void 0:me.call(b,X))!=null&&De)});if(M!==-1)return M}let g=T.options.findIndex(M=>!M.dataRef.current.disabled);if(g!==-1)return g}return T.activeOptionIndex},calculateIndex:j,compare:z,isSelected:G,isActive:Q}),[w,O,p,E,c,T,b]);te(()=>{var g;b&&h({type:7,options:b.options,disabled:(g=b.disabled)!=null?g:null})},[b,b==null?void 0:b.options,b==null?void 0:b.disabled]),te(()=>{T.dataRef.current=v},[v]);let C=v.comboboxState===0;At(C,[v.buttonElement,v.inputElement,v.optionsElement],()=>A.closeCombobox());let H=m.useMemo(()=>{var g,M,X;return{open:v.comboboxState===0,disabled:p,activeIndex:v.activeOptionIndex,activeOption:v.activeOptionIndex===null?null:v.virtual?v.virtual.options[(g=v.activeOptionIndex)!=null?g:0]:(X=(M=v.options[v.activeOptionIndex])==null?void 0:M.dataRef.current.value)!=null?X:null,value:w}},[v,p,w]),J=y(()=>{if(v.activeOptionIndex!==null){if(A.setIsTyping(!1),v.virtual)f(v.virtual.options[v.activeOptionIndex]);else{let{dataRef:g}=v.options[v.activeOptionIndex];f(g.current.value)}A.goToOption(_.Specific,v.activeOptionIndex)}}),Y=y(()=>{h({type:0}),$.current=!0}),Z=y(()=>{h({type:1}),$.current=!1,S==null||S()}),B=y(g=>{h({type:3,isTyping:g})}),ee=y((g,M,X)=>($.current=!1,g===_.Specific?h({type:2,focus:_.Specific,idx:M,trigger:X}):h({type:2,focus:g,trigger:X}))),k=y((g,M)=>(h({type:4,payload:{id:g,dataRef:M}}),()=>{v.isActive(M.current.value)&&($.current=!0),h({type:5,id:g})})),f=y(g=>se(v.mode,{0(){return F==null?void 0:F(g)},1(){let M=v.value.slice(),X=M.findIndex(me=>z(me,g));return X===-1?M.push(g):M.splice(X,1),F==null?void 0:F(M)}})),U=y(g=>{h({type:6,trigger:g})}),L=y(g=>{h({type:8,element:g})}),q=y(g=>{h({type:9,element:g})}),R=y(g=>{h({type:10,element:g})}),A=m.useMemo(()=>({onChange:f,registerOption:k,goToOption:ee,setIsTyping:B,closeCombobox:Z,openCombobox:Y,setActivationTrigger:U,selectActiveOption:J,setInputElement:L,setButtonElement:q,setOptionsElement:R}),[]),[I,re]=Yt(),Se=l===null?{}:{ref:l},Ie=m.useCallback(()=>{if(O!==void 0)return F==null?void 0:F(O)},[F,O]),ye=de();return V.createElement(re,{value:I,props:{htmlFor:(n=v.inputElement)==null?void 0:n.id},slot:{open:v.comboboxState===0,disabled:p}},V.createElement($t,null,V.createElement(Me.Provider,{value:A},V.createElement(ae.Provider,{value:v},V.createElement(Ut,{value:se(v.comboboxState,{0:ve.Open,1:ve.Closed})},d!=null&&V.createElement(wt,{disabled:p,data:w!=null?{[d]:w}:{},form:a,onReset:Ie}),ye({ourProps:Se,theirProps:D,slot:H,defaultTag:Cn,name:"Combobox"}))))))}let Mn="input";function Dn(e,l){var t,n,o,r,s;let i=le("Combobox.Input"),a=ce("Combobox.Input"),d=m.useId(),u=en(),{id:p=u||`headlessui-combobox-input-${d}`,onChange:S,displayValue:c,disabled:E=i.disabled||!1,autoFocus:x=!1,type:b="text",...P}=e,D=m.useRef(null),O=xe(D,l,_t(),a.setInputElement),w=st(i.inputElement),F=Rt(),T=y(()=>{a.onChange(null),i.optionsElement&&(i.optionsElement.scrollTop=0),a.goToOption(_.Nothing)}),h=m.useMemo(()=>{var f;return typeof c=="function"&&i.value!==void 0?(f=c(i.value))!=null?f:"":typeof i.value=="string"?i.value:""},[i.value,c]);ze(([f,U],[L,q])=>{if(i.isTyping)return;let R=D.current;R&&((q===0&&U===1||f!==L)&&(R.value=f),requestAnimationFrame(()=>{if(i.isTyping||!R||(w==null?void 0:w.activeElement)!==R)return;let{selectionStart:A,selectionEnd:I}=R;Math.abs((I??0)-(A??0))===0&&A===0&&R.setSelectionRange(R.value.length,R.value.length)}))},[h,i.comboboxState,w,i.isTyping]),ze(([f],[U])=>{if(f===0&&U===1){if(i.isTyping)return;let L=D.current;if(!L)return;let q=L.value,{selectionStart:R,selectionEnd:A,selectionDirection:I}=L;L.value="",L.value=q,I!==null?L.setSelectionRange(R,A,I):L.setSelectionRange(R,A)}},[i.comboboxState]);let $=m.useRef(!1),K=y(()=>{$.current=!0}),z=y(()=>{F.nextFrame(()=>{$.current=!1})}),j=y(f=>{switch(a.setIsTyping(!0),f.key){case W.Enter:if(i.comboboxState!==0||$.current)return;if(f.preventDefault(),f.stopPropagation(),i.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),i.mode===0&&a.closeCombobox();break;case W.ArrowDown:return f.preventDefault(),f.stopPropagation(),se(i.comboboxState,{0:()=>a.goToOption(_.Next),1:()=>a.openCombobox()});case W.ArrowUp:return f.preventDefault(),f.stopPropagation(),se(i.comboboxState,{0:()=>a.goToOption(_.Previous),1:()=>{oe.flushSync(()=>a.openCombobox()),i.value||a.goToOption(_.Last)}});case W.Home:if(f.shiftKey)break;return f.preventDefault(),f.stopPropagation(),a.goToOption(_.First);case W.PageUp:return f.preventDefault(),f.stopPropagation(),a.goToOption(_.First);case W.End:if(f.shiftKey)break;return f.preventDefault(),f.stopPropagation(),a.goToOption(_.Last);case W.PageDown:return f.preventDefault(),f.stopPropagation(),a.goToOption(_.Last);case W.Escape:return i.comboboxState!==0?void 0:(f.preventDefault(),i.optionsElement&&!i.optionsPropsRef.current.static&&f.stopPropagation(),i.mode===0&&i.value===null&&T(),a.closeCombobox());case W.Tab:if(i.comboboxState!==0)return;i.mode===0&&i.activationTrigger!==1&&a.selectActiveOption(),a.closeCombobox();break}}),G=y(f=>{S==null||S(f),i.mode===0&&f.target.value===""&&T(),a.openCombobox()}),Q=y(f=>{var U,L,q;let R=(U=f.relatedTarget)!=null?U:ke.find(A=>A!==f.currentTarget);if(!((L=i.optionsElement)!=null&&L.contains(R))&&!((q=i.buttonElement)!=null&&q.contains(R))&&i.comboboxState===0)return f.preventDefault(),i.mode===0&&i.value===null&&T(),a.closeCombobox()}),v=y(f=>{var U,L,q;let R=(U=f.relatedTarget)!=null?U:ke.find(A=>A!==f.currentTarget);(L=i.buttonElement)!=null&&L.contains(R)||(q=i.optionsElement)!=null&&q.contains(R)||i.disabled||i.immediate&&i.comboboxState!==0&&F.microTask(()=>{oe.flushSync(()=>a.openCombobox()),a.setActivationTrigger(1)})}),C=Ce(),H=Gt(),{isFocused:J,focusProps:Y}=ot({autoFocus:x}),{isHovered:Z,hoverProps:B}=it({isDisabled:E}),ee=m.useMemo(()=>({open:i.comboboxState===0,disabled:E,hover:Z,focus:J,autofocus:x}),[i,Z,J,x,E]),k=we({ref:O,id:p,role:"combobox",type:b,"aria-controls":(t=i.optionsElement)==null?void 0:t.id,"aria-expanded":i.comboboxState===0,"aria-activedescendant":i.activeOptionIndex===null?void 0:i.virtual?(n=i.options.find(f=>!f.dataRef.current.disabled&&i.compare(f.dataRef.current.value,i.virtual.options[i.activeOptionIndex])))==null?void 0:n.id:(o=i.options[i.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":C,"aria-describedby":H,"aria-autocomplete":"list",defaultValue:(s=(r=e.defaultValue)!=null?r:i.defaultValue!==void 0?c==null?void 0:c(i.defaultValue):null)!=null?s:i.defaultValue,disabled:E||void 0,autoFocus:x,onCompositionStart:K,onCompositionEnd:z,onKeyDown:j,onChange:G,onFocus:v,onBlur:Q},Y,B);return de()({ourProps:k,theirProps:P,slot:ee,defaultTag:Mn,name:"Combobox.Input"})}let Pn="button";function $n(e,l){var t;let n=le("Combobox.Button"),o=ce("Combobox.Button"),r=xe(l,o.setButtonElement),s=m.useId(),{id:i=`headlessui-combobox-button-${s}`,disabled:a=n.disabled||!1,autoFocus:d=!1,...u}=e,p=at(n.inputElement),S=y(h=>{switch(h.key){case W.Space:case W.Enter:h.preventDefault(),h.stopPropagation(),n.comboboxState===1&&oe.flushSync(()=>o.openCombobox()),p();return;case W.ArrowDown:h.preventDefault(),h.stopPropagation(),n.comboboxState===1&&(oe.flushSync(()=>o.openCombobox()),n.value||o.goToOption(_.First)),p();return;case W.ArrowUp:h.preventDefault(),h.stopPropagation(),n.comboboxState===1&&(oe.flushSync(()=>o.openCombobox()),n.value||o.goToOption(_.Last)),p();return;case W.Escape:if(n.comboboxState!==0)return;h.preventDefault(),n.optionsElement&&!n.optionsPropsRef.current.static&&h.stopPropagation(),oe.flushSync(()=>o.closeCombobox()),p();return;default:return}}),c=y(h=>{h.preventDefault(),!tn(h.currentTarget)&&(h.button===Re.Left&&(n.comboboxState===0?o.closeCombobox():o.openCombobox()),p())}),E=Ce([i]),{isFocusVisible:x,focusProps:b}=ot({autoFocus:d}),{isHovered:P,hoverProps:D}=it({isDisabled:a}),{pressed:O,pressProps:w}=It({disabled:a}),F=m.useMemo(()=>({open:n.comboboxState===0,active:O||n.comboboxState===0,disabled:a,value:n.value,hover:P,focus:x}),[n,P,x,O,a]),T=we({ref:r,id:i,type:yt(e,n.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsElement)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":E,disabled:a||void 0,autoFocus:d,onMouseDown:c,onKeyDown:S},b,D,w);return de()({ourProps:T,theirProps:u,slot:F,defaultTag:Pn,name:"Combobox.Button"})}let _n="div",Fn=$e.RenderStrategy|$e.Static;function zn(e,l){var t,n,o;let r=m.useId(),{id:s=`headlessui-combobox-options-${r}`,hold:i=!1,anchor:a,portal:d=!1,modal:u=!0,transition:p=!1,...S}=e,c=le("Combobox.Options"),E=ce("Combobox.Options"),x=Mt(a);x&&(d=!0);let[b,P]=Dt(x),[D,O]=m.useState(null),w=Pt(),F=xe(l,x?b:null,E.setOptionsElement,O),T=st(c.optionsElement),h=jt(),[$,K]=Bt(p,D,h!==null?(h&ve.Open)===ve.Open:c.comboboxState===0);zt($,c.inputElement,E.closeCombobox);let z=c.__demoMode?!1:u&&c.comboboxState===0;kt(z,T);let j=c.__demoMode?!1:u&&c.comboboxState===0;Ft(j,{allowed:m.useCallback(()=>[c.inputElement,c.buttonElement,c.optionsElement],[c.inputElement,c.buttonElement,c.optionsElement])}),te(()=>{var k;c.optionsPropsRef.current.static=(k=e.static)!=null?k:!1},[c.optionsPropsRef,e.static]),te(()=>{c.optionsPropsRef.current.hold=i},[c.optionsPropsRef,i]),Ht(c.comboboxState===0,{container:c.optionsElement,accept(k){return k.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:k.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(k){k.setAttribute("role","none")}});let G=Ce([(t=c.buttonElement)==null?void 0:t.id]),Q=m.useMemo(()=>({open:c.comboboxState===0,option:void 0}),[c.comboboxState]),v=y(()=>{E.setActivationTrigger(0)}),C=y(k=>{k.preventDefault(),E.setActivationTrigger(0)}),H=we(x?w():{},{"aria-labelledby":G,role:"listbox","aria-multiselectable":c.mode===1?!0:void 0,id:s,ref:F,style:{...S.style,...P,"--input-width":_e(c.inputElement,!0).width,"--button-width":_e(c.buttonElement,!0).width},onWheel:c.activationTrigger===0?void 0:v,onMouseDown:C,...Wt(K)}),J=$&&c.comboboxState===1,Y=Le(J,(n=c.virtual)==null?void 0:n.options),Z=Le(J,c.value),B=y(k=>c.compare(Z,k));if(c.virtual){if(Y===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(S,{children:V.createElement(ae.Provider,{value:Y!==c.virtual.options?{...c,virtual:{...c.virtual,options:Y}}:c},V.createElement(On,{slot:Q},S.children))})}let ee=de();return V.createElement(Lt,{enabled:d?e.static||$:!1},V.createElement(ae.Provider,{value:c.mode===1?c:{...c,isSelected:B}},ee({ourProps:H,theirProps:{...S,children:V.createElement(Qt,{freeze:J},typeof S.children=="function"?(o=S.children)==null?void 0:o.call(S,Q):S.children)},slot:Q,defaultTag:_n,features:Fn,visible:$,name:"Combobox.Options"})))}let kn="div";function Ln(e,l){var t,n,o,r;let s=le("Combobox.Option"),i=ce("Combobox.Option"),a=m.useId(),{id:d=`headlessui-combobox-option-${a}`,value:u,disabled:p=(o=(n=(t=s.virtual)==null?void 0:t.disabled)==null?void 0:n.call(t,u))!=null?o:!1,order:S=null,...c}=e,E=at(s.inputElement),x=s.virtual?s.activeOptionIndex===s.calculateIndex(u):s.activeOptionIndex===null?!1:((r=s.options[s.activeOptionIndex])==null?void 0:r.id)===d,b=s.isSelected(u),P=m.useRef(null),D=Ct({disabled:p,value:u,domRef:P,order:S}),O=m.useContext(ut),w=xe(l,P,O?O.measureElement:null),F=y(()=>{i.setIsTyping(!1),i.onChange(u)});te(()=>i.registerOption(d,D),[D,d]);let T=m.useRef(!(s.virtual||s.__demoMode));te(()=>{if(!s.virtual&&!s.__demoMode)return Pe().requestAnimationFrame(()=>{T.current=!0})},[s.virtual,s.__demoMode]),te(()=>{if(T.current&&s.comboboxState===0&&x&&s.activationTrigger!==0)return Pe().requestAnimationFrame(()=>{var C,H;(H=(C=P.current)==null?void 0:C.scrollIntoView)==null||H.call(C,{block:"nearest"})})},[P,x,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let h=y(C=>{C.preventDefault(),C.button===Re.Left&&(p||(F(),Nt()||requestAnimationFrame(()=>E()),s.mode===0&&i.closeCombobox()))}),$=y(()=>{if(p)return i.goToOption(_.Nothing);let C=s.calculateIndex(u);i.goToOption(_.Specific,C)}),K=Vt(),z=y(C=>K.update(C)),j=y(C=>{if(!K.wasMoved(C)||p||x)return;let H=s.calculateIndex(u);i.goToOption(_.Specific,H,0)}),G=y(C=>{K.wasMoved(C)&&(p||x&&(s.optionsPropsRef.current.hold||i.goToOption(_.Nothing)))}),Q=m.useMemo(()=>({active:x,focus:x,selected:b,disabled:p}),[x,b,p]),v={id:d,ref:w,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":b,disabled:void 0,onMouseDown:h,onFocus:$,onPointerEnter:z,onMouseEnter:z,onPointerMove:j,onMouseMove:j,onPointerLeave:G,onMouseLeave:G};return de()({ourProps:v,theirProps:c,slot:Q,defaultTag:kn,name:"Combobox.Option"})}let An=ue(Rn),Nn=ue($n),Oe=ue(Dn),qn=lt,dt=ue(zn),ct=ue(Ln),mt=Object.assign(An,{Input:Oe,Button:Nn,Label:qn,Options:dt,Option:ct});const Vn=(e,l)=>{const[t,n]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>{n(e)},l);return()=>{clearTimeout(r)}},[e,l]),{debouncedValue:t,isDebouncing:!!e&&e!==t}},jn=(e,l)=>m.useEffect(()=>{const t=n=>{e.current!==null&&!e.current.contains(n.target)&&l(n)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[l,e]),Bn=({debounceTime:e,onDebouncedChange:l,options:t})=>{const n=m.useRef(l),[o,r]=m.useState(!1),[s,i]=m.useState(""),{debouncedValue:a}=Vn(s,e??400),d=m.useMemo(()=>{const u=s.trim();return u===""?u:a.trim()},[s,a]);return m.useEffect(()=>{var u;(u=n.current)==null||u.call(n,d)},[d]),m.useEffect(()=>{t!==void 0&&r(!1)},[t]),m.useEffect(()=>{r(s!=="")},[s]),{isLoading:o,query:s,setQuery:i}},pt=({children:e,className:l,disabled:t,name:n,selectedItems:o,setSelectedItems:r})=>N.jsx(mt,{as:"div",by:Zt,className:l,disabled:t,multiple:!0,name:n,onChange:s=>r(s),value:o,children:e});pt.__docgenInfo={description:"",methods:[],displayName:"ComboboxMulti",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},selectedItems:{required:!0,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},setSelectedItems:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"}],raw:"SetStateAction<DataItem[]>"}],raw:"Dispatch<SetStateAction<DataItem[]>>"},description:""}},composes:["Pick"]};const ft=({children:e,className:l,disabled:t,name:n,selectedItems:o,setSelectedItems:r})=>{const s=o[0]??null;return N.jsx(mt,{as:"div",by:"id",className:l,disabled:t,name:n,nullable:!0,onChange:i=>i&&r([i]),value:s,children:e})};ft.__docgenInfo={description:"",methods:[],displayName:"ComboboxSingle",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},selectedItems:{required:!0,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},setSelectedItems:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"}],raw:"SetStateAction<DataItem[]>"}],raw:"Dispatch<SetStateAction<DataItem[]>>"},description:""}},composes:["Pick"]};const Wn=({debounceTime:e,onDebouncedChange:l,options:t})=>{const[n,o]=m.useState([]),[r,s]=m.useState(!1),i=m.useRef(null),a=m.useRef(null),{isLoading:d,query:u,setQuery:p}=Bn({debounceTime:e,onDebouncedChange:l,options:t}),S=c=>o(E=>E.filter((x,b)=>c!==b));return jn(i,()=>s(!1)),m.useEffect(()=>{var c;r?(c=a.current)==null||c.focus():p("")},[r,p]),{clearSelectedItem:S,dropdownRef:i,isLoading:d,query:u,showDropdown:r,searchInputRef:a,selectedItems:n,setShowDropdown:s,setSelectedItems:o,setQuery:p}},ht=({badgeColor:e,bordered:l,className:t,color:n,controllerProps:o,debounceTime:r,disabled:s,disableSingleSelectBadge:i,dropdownInputClassName:a,formValueMode:d,getBadgeClassName:u,getBadgeText:p,getItemText:S,inputClassName:c,inputPlaceholder:E,isRequired:x,labelText:b,menuClassName:P,menuSize:D,multi:O,name:w,onDebouncedChange:F,onKeyDown:T,options:h,placeholder:$,showDirty:K,size:z})=>{const{fieldState:{error:j},field:{ref:G}}=bt({...o,name:w}),{clearSelectedItem:Q,dropdownRef:v,isLoading:C,query:H,showDropdown:J,searchInputRef:Y,selectedItems:Z,setShowDropdown:B,setSelectedItems:ee,setQuery:k}=Wn({debounceTime:r,onDebouncedChange:F,options:h}),f=Jt(h??[]);Xt({multi:O,name:w,onItemSelect:()=>O!==!0&&B(!1),options:f,selectedItems:Z,setSelectedItems:ee,valueMode:d});const{setFocus:U}=gt(),q=on(w,K)??n??void 0,R=i===void 0||O===!0,A=O===!0?pt:ft;return N.jsxs(A,{className:ne("relative",t),disabled:s,name:w,selectedItems:Z,setSelectedItems:I=>{ee(I),O===void 0&&U(w)},children:[N.jsxs("fieldset",{className:"fieldset py-0",children:[b!==void 0?N.jsx(lt,{as:vt,isRequired:x,children:b}):null,R?N.jsx("div",{className:ne("input flex w-full items-center gap-1 overflow-x-scroll scrollbar-none",l&&"input-bordered",!s&&"cursor-pointer",q&&`input-${q}`,z&&`input-${z}`,c),onBlur:I=>{I.relatedTarget===null&&B(!1)},onClick:()=>!s&&B(!0),onKeyDown:I=>{I.key==="Enter"?(I.preventDefault(),B(!0)):I.key.length===1&&B(!0)},ref:G,tabIndex:s?-1:0,children:Z.length>0?Z.map((I,re)=>N.jsx(sn,{className:u==null?void 0:u(I),color:e??"neutral",dismissable:!0,onDismiss:()=>Q(re),children:(p==null?void 0:p(I))??S(I)},I.id)):$}):N.jsx(Oe,{className:ne("input w-full",l&&"input-bordered",q&&`input-${q}`,z&&`input-${z}`,c),onChange:({target:{value:I}})=>{k(I),I.length>0?B(!0):(B(!1),ee([]))},onKeyDown:T,placeholder:$,ref:G})]}),J?N.jsxs(dt,{as:rn,className:ne("absolute rounded-box p-2 shadow-lg",P),ref:v,size:D,static:!0,children:[R?N.jsx(Oe,{className:ne("input w-full",a),onChange:({target:{value:I}})=>{k(I)},onKeyDown:I=>{I.key==="Tab"&&B(!1),T==null||T(I)},placeholder:E,ref:Y,value:H}):null,C?N.jsx("progress",{className:ne("progress w-full",R&&"mt-2")}):null,!C&&(h==null?void 0:h.length)===0?N.jsx(Ae,{disabled:!0,children:"No Results"}):null,C?null:h==null?void 0:h.map((I,re)=>N.jsx(ct,{as:m.Fragment,value:I,children:({disabled:Se,focus:Ie,selected:ye})=>N.jsx(Ae,{className:ne(re===0&&R&&"mt-2"),disabled:Se,focus:Ie,selected:O===!0?ye:void 0,children:S(I)})},I.id))]}):null,(j==null?void 0:j.message)!==void 0?N.jsx(ln,{children:j.message}):null]})};ht.__docgenInfo={description:"",methods:[],displayName:"TypeaheadSelect",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},onDebouncedChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},options:{required:!1,tsType:{name:"Array",elements:[{name:"DataItem"}],raw:"DataItem[]"},description:""},controllerProps:{required:!1,tsType:{name:"Omit",elements:[{name:"UseControllerProps",elements:[{name:"Values"}],raw:"UseControllerProps<Values>"},{name:"literal",value:"'name'"}],raw:"Omit<UseControllerProps<Values>, 'name'>"},description:""},isRequired:{required:!1,tsType:{name:"boolean"},description:""},labelText:{required:!1,tsType:{name:"string"},description:""},name:{required:!0,tsType:{name:"Path",elements:[{name:"Values"}],raw:"Path<Values>"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},showDirty:{required:!1,tsType:{name:"boolean"},description:""},badgeColor:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof BADGE_COLORS)[number]"},description:""},bordered:{required:!1,tsType:{name:"boolean"},description:""},color:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof INPUT_COLORS)[number]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},dropdownInputClassName:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},disableSingleSelectBadge:{required:!1,tsType:{name:"literal",value:"true"},description:""},formValueMode:{required:!1,tsType:{name:"union",raw:"'item' | 'id'",elements:[{name:"literal",value:"'item'"},{name:"literal",value:"'id'"}]},description:""},getBadgeClassName:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: DataItem) => string",signature:{arguments:[{type:{name:"DataItem"},name:"item"}],return:{name:"string"}}},description:""},getBadgeText:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: DataItem) => ReactNode",signature:{arguments:[{type:{name:"DataItem"},name:"item"}],return:{name:"ReactNode"}}},description:""},getItemText:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: DataItem) => ReactNode",signature:{arguments:[{type:{name:"DataItem"},name:"data"}],return:{name:"ReactNode"}}},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},inputPlaceholder:{required:!1,tsType:{name:"string"},description:""},menuClassName:{required:!1,tsType:{name:"string"},description:""},menuSize:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof MENU_SIZES)[number]"},description:""},multi:{required:!1,tsType:{name:"literal",value:"true"},description:""},onKeyDown:{required:!1,tsType:{name:"KeyboardEventHandler",elements:[{name:"HTMLInputElement"}],raw:"KeyboardEventHandler<HTMLInputElement>"},description:""},size:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof INPUT_SIZES)[number]"},description:""}}};const Co={title:"TypeaheadSelect",component:ht,decorators:[e=>{const l=xt();return N.jsx(St,{className:"h-80 w-64",methods:l,onFormSubmit:()=>null,children:N.jsx(e,{})})}]},pe={args:{labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},fe={args:{disableSingleSelectBadge:!0,labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},he={args:{labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],placeholder:"Select..."}},be={args:{className:"min-w-[250px] max-w-[400px]",labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],multi:!0,placeholder:"Select..."}},ge={args:{className:"min-w-[250px] max-w-[400px]",labelText:"Field Label",name:"field1",getItemText:({label:e})=>e,options:[{id:"1",label:"Item 1"},{id:"2",label:"Item 2"},{id:"3",label:"Item 3"}],multi:!0,placeholder:"Select..."}};var je,Be,We;pe.parameters={...pe.parameters,docs:{...(je=pe.parameters)==null?void 0:je.docs,source:{originalSource:`{
  args: {
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(We=(Be=pe.parameters)==null?void 0:Be.docs)==null?void 0:We.source}}};var Ue,He,Ke;fe.parameters={...fe.parameters,docs:{...(Ue=fe.parameters)==null?void 0:Ue.docs,source:{originalSource:`{
  args: {
    disableSingleSelectBadge: true,
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(Ke=(He=fe.parameters)==null?void 0:He.docs)==null?void 0:Ke.source}}};var Ge,Qe,Ze;he.parameters={...he.parameters,docs:{...(Ge=he.parameters)==null?void 0:Ge.docs,source:{originalSource:`{
  args: {
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    placeholder: 'Select...'
  }
}`,...(Ze=(Qe=he.parameters)==null?void 0:Qe.docs)==null?void 0:Ze.source}}};var Je,Xe,Ye;be.parameters={...be.parameters,docs:{...(Je=be.parameters)==null?void 0:Je.docs,source:{originalSource:`{
  args: {
    className: 'min-w-[250px] max-w-[400px]',
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    multi: true,
    placeholder: 'Select...'
  }
}`,...(Ye=(Xe=be.parameters)==null?void 0:Xe.docs)==null?void 0:Ye.source}}};var et,tt,nt;ge.parameters={...ge.parameters,docs:{...(et=ge.parameters)==null?void 0:et.docs,source:{originalSource:`{
  args: {
    className: 'min-w-[250px] max-w-[400px]',
    labelText: 'Field Label',
    name: 'field1',
    getItemText: ({
      label
    }: DataItem) => label,
    options: [{
      id: '1',
      label: 'Item 1'
    }, {
      id: '2',
      label: 'Item 2'
    }, {
      id: '3',
      label: 'Item 3'
    }],
    multi: true,
    placeholder: 'Select...'
  }
}`,...(nt=(tt=ge.parameters)==null?void 0:tt.docs)==null?void 0:nt.source}}};const Ro=["SingleSelect","SingleSelectWithoutBadge","SingleSelectWithDefaultValue","MultiSelect","MultiSelectWithDefaultValues"];export{be as MultiSelect,ge as MultiSelectWithDefaultValues,pe as SingleSelect,he as SingleSelectWithDefaultValue,fe as SingleSelectWithoutBadge,Ro as __namedExportsOrder,Co as default};
