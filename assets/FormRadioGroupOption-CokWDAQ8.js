import{j as g}from"./jsx-runtime-DR9Q75dM.js";import{c as L}from"./index-lhGYx47h.js";import{a as ee,b as re,c as Oe}from"./FormLabelText-2tTELyhz.js";import{r as a,R as b}from"./index-DRjF_FHU.js";import{u as Ee}from"./lodash-CaEHFKMH.js";import{F as xe}from"./FormError-Cspxj7f0.js";import{B as Ce}from"./Button-C8Er2sLW.js";import{$ as oe,a as te}from"./useFocusRing-Bmn-zFZf.js";import{o as A,p as Te,m as ke,K as H,y as K,L as V,s as ne,n as ae,_ as ie,u as Fe,a as Ne,c as D}from"./keyboard-CUk6zo9K.js";import{a as se,w as le,U as Pe,H as we}from"./description-DnSH_hHI.js";import{r as Ie}from"./index-rX-Bn4lm.js";import{f as ue,s as de}from"./hidden-ZETsWED3.js";import{K as ce,u as je,I as Se,Q as De}from"./label-DKwZbPqi.js";import{r as pe}from"./bugs-DpEN4NTH.js";import{P as Z,F as U,T as Y,_ as Ae}from"./focus-management-BR9cTPnt.js";function Ge(e,r,o){let[t,n]=a.useState(o),i=e!==void 0,l=a.useRef(i),u=a.useRef(!1),s=a.useRef(!1);return i&&!l.current&&!u.current?(u.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!s.current&&(s.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:t,A(d=>(i||n(d),r==null?void 0:r(d)))]}function _e(e){let[r]=a.useState(e);return r}function me(e={},r=null,o=[]){for(let[t,n]of Object.entries(e))ve(o,fe(r,t),n);return o}function fe(e,r){return e?e+"["+r+"]":r}function ve(e,r,o){if(Array.isArray(o))for(let[t,n]of o.entries())ve(e,fe(r,t.toString()),n);else o instanceof Date?e.push([r,o.toISOString()]):typeof o=="boolean"?e.push([r,o?"1":"0"]):typeof o=="string"?e.push([r,o]):typeof o=="number"?e.push([r,`${o}`]):o==null?e.push([r,""]):me(o,r,e)}function Le(e){var r,o;let t=(r=e==null?void 0:e.form)!=null?r:e.closest("form");if(t){for(let n of t.elements)if(n!==e&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(o=t.requestSubmit)==null||o.call(t)}}let qe=a.createContext(null);function Me({children:e}){let r=a.useContext(qe);if(!r)return b.createElement(b.Fragment,null,e);let{target:o}=r;return o?Ie.createPortal(b.createElement(b.Fragment,null,e),o):null}function Ue({data:e,form:r,disabled:o,onReset:t,overrides:n}){let[i,l]=a.useState(null),u=Te();return a.useEffect(()=>{if(t&&i)return u.addEventListener(i,"reset",t)},[i,r,t]),b.createElement(Me,null,b.createElement(Be,{setForm:l,formId:r}),me(e).map(([s,d])=>b.createElement(ue,{features:de.Hidden,...ke({key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,disabled:o,name:s,value:d,...n})})))}function Be({setForm:e,formId:r}){return a.useEffect(()=>{if(r){let o=document.getElementById(r);o&&e(o)}},[e,r]),r?null:b.createElement(ue,{features:de.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:o=>{if(!o)return;let t=o.closest("form");t&&e(t)}})}function He(e,r){return e!==null&&r!==null&&typeof e=="object"&&typeof r=="object"&&"id"in e&&"id"in r?e.id===r.id:e===r}function Ke(e=He){return a.useCallback((r,o)=>{if(typeof e=="string"){let t=e;return(r==null?void 0:r[t])===(o==null?void 0:o[t])}return e(r,o)},[e])}var Ve=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Ve||{});let We={0(e,r){let o=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:Ae(o,t=>t.element.current)}},1(e,r){let o=e.options.slice(),t=e.options.findIndex(n=>n.id===r.id);return t===-1?e:(o.splice(t,1),{...e,options:o})}},W=a.createContext(null);W.displayName="RadioGroupDataContext";function Q(e){let r=a.useContext(W);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Q),o}return r}let z=a.createContext(null);z.displayName="RadioGroupActionsContext";function J(e){let r=a.useContext(z);if(r===null){let o=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,J),o}return r}function Qe(e,r){return Fe(r.type,We,e,r)}let ze="div";function Je(e,r){let o=a.useId(),t=se(),{id:n=`headlessui-radiogroup-${o}`,value:i,form:l,name:u,onChange:s,by:d,disabled:f=t||!1,defaultValue:h,...k}=e,m=Ke(d),[C,$]=a.useReducer(Qe,{options:[]}),v=C.options,[O,F]=ce(),[E,N]=le(),P=a.useRef(null),I=K(P,r),T=_e(h),[c,j]=Ge(i,s,T),S=a.useMemo(()=>v.find(p=>!p.propsRef.current.disabled),[v]),w=a.useMemo(()=>v.some(p=>m(p.propsRef.current.value,c)),[v,c]),R=A(p=>{var G;if(f||m(p,c))return!1;let x=(G=v.find(M=>m(M.propsRef.current.value,p)))==null?void 0:G.propsRef.current;return x!=null&&x.disabled?!1:(j==null||j(p),!0)}),q=A(p=>{let G=P.current;if(!G)return;let x=Ne(G),M=v.filter(y=>y.propsRef.current.disabled===!1).map(y=>y.element.current);switch(p.key){case D.Enter:Le(p.currentTarget);break;case D.ArrowLeft:case D.ArrowUp:if(p.preventDefault(),p.stopPropagation(),Z(M,U.Previous|U.WrapAround)===Y.Success){let y=v.find(_=>_.element.current===(x==null?void 0:x.activeElement));y&&R(y.propsRef.current.value)}break;case D.ArrowRight:case D.ArrowDown:if(p.preventDefault(),p.stopPropagation(),Z(M,U.Next|U.WrapAround)===Y.Success){let y=v.find(_=>_.element.current===(x==null?void 0:x.activeElement));y&&R(y.propsRef.current.value)}break;case D.Space:{p.preventDefault(),p.stopPropagation();let y=v.find(_=>_.element.current===(x==null?void 0:x.activeElement));y&&R(y.propsRef.current.value)}break}}),X=A(p=>($({type:0,...p}),()=>$({type:1,id:p.id}))),be=a.useMemo(()=>({value:c,firstOption:S,containsCheckedOption:w,disabled:f,compare:m,...C}),[c,S,w,f,m,C]),he=a.useMemo(()=>({registerOption:X,change:R}),[X,R]),Re={ref:I,id:n,role:"radiogroup","aria-labelledby":O,"aria-describedby":E,onKeyDown:q},ge=a.useMemo(()=>({value:c}),[c]),ye=a.useCallback(()=>{if(T!==void 0)return R(T)},[R,T]),$e=V();return b.createElement(N,{name:"RadioGroup.Description"},b.createElement(F,{name:"RadioGroup.Label"},b.createElement(z.Provider,{value:he},b.createElement(W.Provider,{value:be},u!=null&&b.createElement(Ue,{disabled:f,data:{[u]:c||"on"},overrides:{type:"radio",checked:c!=null},form:l,onReset:ye}),$e({ourProps:Re,theirProps:k,slot:ge,defaultTag:ze,name:"RadioGroup"})))))}let Xe="div";function Ze(e,r){var o;let t=Q("RadioGroup.Option"),n=J("RadioGroup.Option"),i=a.useId(),{id:l=`headlessui-radiogroup-option-${i}`,value:u,disabled:s=t.disabled||!1,autoFocus:d=!1,...f}=e,h=a.useRef(null),k=K(h,r),[m,C]=ce(),[$,v]=le(),O=ne({value:u,disabled:s});ae(()=>n.registerOption({id:l,element:h,propsRef:O}),[l,n,h,O]);let F=A(R=>{var q;if(pe(R.currentTarget))return R.preventDefault();n.change(u)&&((q=h.current)==null||q.focus())}),E=((o=t.firstOption)==null?void 0:o.id)===l,{isFocusVisible:N,focusProps:P}=oe({autoFocus:d}),{isHovered:I,hoverProps:T}=te({isDisabled:s}),c=t.compare(t.value,u),j=ie({ref:k,id:l,role:"radio","aria-checked":c?"true":"false","aria-labelledby":m,"aria-describedby":$,"aria-disabled":s?!0:void 0,tabIndex:s?-1:c||!t.containsCheckedOption&&E?0:-1,onClick:s?void 0:F,autoFocus:d},P,T),S=a.useMemo(()=>({checked:c,disabled:s,active:N,hover:I,focus:N,autofocus:d}),[c,s,I,N,d]),w=V();return b.createElement(v,{name:"RadioGroup.Description"},b.createElement(C,{name:"RadioGroup.Label"},w({ourProps:j,theirProps:f,slot:S,defaultTag:Xe,name:"RadioGroup.Option"})))}let Ye="span";function er(e,r){var o;let t=Q("Radio"),n=J("Radio"),i=a.useId(),l=je(),u=se(),{id:s=l||`headlessui-radio-${i}`,value:d,disabled:f=t.disabled||u||!1,autoFocus:h=!1,...k}=e,m=a.useRef(null),C=K(m,r),$=Se(),v=Pe(),O=ne({value:d,disabled:f});ae(()=>n.registerOption({id:s,element:m,propsRef:O}),[s,n,m,O]);let F=A(w=>{var R;if(pe(w.currentTarget))return w.preventDefault();n.change(d)&&((R=m.current)==null||R.focus())}),{isFocusVisible:E,focusProps:N}=oe({autoFocus:h}),{isHovered:P,hoverProps:I}=te({isDisabled:f}),T=((o=t.firstOption)==null?void 0:o.id)===s,c=t.compare(t.value,d),j=ie({ref:C,id:s,role:"radio","aria-checked":c?"true":"false","aria-labelledby":$,"aria-describedby":v,"aria-disabled":f?!0:void 0,tabIndex:f?-1:c||!t.containsCheckedOption&&T?0:-1,autoFocus:h,onClick:f?void 0:F},N,I),S=a.useMemo(()=>({checked:c,disabled:f,hover:P,focus:E,autofocus:h}),[c,f,P,E,h]);return V()({ourProps:j,theirProps:k,slot:S,defaultTag:Ye,name:"Radio"})}let rr=H(Je),or=H(Ze),tr=H(er),nr=De,ar=we,B=Object.assign(rr,{Option:or,Radio:tr,Label:nr,Description:ar});const ir=({className:e,color:r,controllerProps:o,inputClassName:t,isRequired:n,labelText:i,name:l,options:u,showDirty:s,size:d,...f})=>{const{field:{value:h,...k},fieldState:{error:m}}=ee({name:l,...o}),$=Ee(l,s)??r??void 0;return g.jsxs("div",{className:L("form-control",e),children:[i!==void 0?g.jsx("div",{className:"label",children:g.jsx(re,{isRequired:n,children:i})}):null,u.map(({className:v,id:O,label:F,value:E})=>g.jsxs("label",{className:L("label cursor-pointer",v),children:[g.jsx("span",{className:"label-text",children:F}),g.jsx("input",{...k,...f,checked:h===E,className:L("radio",$&&`radio-${$}`,d&&`radio-${d}`,t),type:"radio",value:E})]},O)),(m==null?void 0:m.message)!==void 0?g.jsx(xe,{children:m.message}):null]})};ir.__docgenInfo={description:"",methods:[],displayName:"FormRadio",props:{color:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof RADIO_COLORS)[number]"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"RadioOption"}],raw:"RadioOption[]"},description:""},size:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof RADIO_SIZES)[number]"},description:""}},composes:["Omit"]};const sr=({children:e,className:r,controllerProps:o,isRequired:t,labelText:n,name:i,...l})=>{const{setValue:u}=Oe(),{field:{value:s}}=ee({name:i,...o});return g.jsxs(B,{as:"label",className:L("form-control",r),name:i,onChange:d=>{u(i,d)},value:s,...l,children:[n!==void 0?g.jsx("div",{className:"label",children:g.jsx(B.Label,{as:re,isRequired:t,children:n})}):null,g.jsx("div",{className:"join",children:e})]})};sr.__docgenInfo={description:"",methods:[],displayName:"FormRadioGroup",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}},composes:["Omit"]};const lr=({activeColor:e,children:r,className:o,disabled:t,inactiveColor:n,value:i,...l})=>g.jsx(B.Option,{as:a.Fragment,disabled:t,value:i,children:({checked:u,disabled:s})=>g.jsx(Ce,{active:u,className:L("join-item",o),color:u?e??"primary":n,disabled:s,...l,children:r})});lr.__docgenInfo={description:"",methods:[],displayName:"FormRadioGroupOption",props:{activeColor:{required:!1,tsType:{name:"ButtonProps['color']",raw:"ButtonProps['color']"},description:""},inactiveColor:{required:!1,tsType:{name:"ButtonProps['color']",raw:"ButtonProps['color']"},description:""},value:{required:!0,tsType:{name:"string"},description:""}},composes:["Omit"]};export{ir as F,Ge as T,sr as a,lr as b,Ue as j,_e as l,Le as p,Ke as u};
