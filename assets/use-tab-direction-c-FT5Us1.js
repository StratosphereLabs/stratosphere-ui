import{r as i,R as c}from"./index-DRjF_FHU.js";import{f as h,s as p}from"./hidden-ZETsWED3.js";import{o as d,a as v}from"./keyboard-CUk6zo9K.js";import{n as y,s as b}from"./portal-ddnK3kf1.js";function x({defaultContainers:n=[],portals:t,mainTreeNode:l}={}){let s=y(l),a=d(()=>{var r,u;let o=[];for(let e of n)e!==null&&(e instanceof HTMLElement?o.push(e):"current"in e&&e.current instanceof HTMLElement&&o.push(e.current));if(t!=null&&t.current)for(let e of t.current)o.push(e);for(let e of(r=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e.id!=="headlessui-portal-root"&&(l&&(e.contains(l)||e.contains((u=l==null?void 0:l.getRootNode())==null?void 0:u.host))||o.some(m=>e.contains(m))||o.push(e));return o});return{resolveContainers:a,contains:d(r=>a().some(u=>u.contains(r)))}}let f=i.createContext(null);function C({children:n,node:t}){let[l,s]=i.useState(null),a=E(t??l);return c.createElement(f.Provider,{value:a},n,a===null&&c.createElement(h,{features:p.Hidden,ref:r=>{var u,o;if(r){for(let e of(o=(u=v(r))==null?void 0:u.querySelectorAll("html > *, body > *"))!=null?o:[])if(e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e!=null&&e.contains(r)){s(e);break}}}}))}function E(n=null){var t;return(t=i.useContext(f))!=null?t:n}var T=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(T||{});function L(){let n=i.useRef(0);return b(!0,"keydown",t=>{t.key==="Tab"&&(n.current=t.shiftKey?1:0)},!0),n}export{C as O,x as R,T as a,E as b,L as u};
